import{r as h,j as c,c as Cs,R as L,h as Ns,k as po,l as go}from"./main-Cr7NtOyq.js";import{n as Jr,B as De,c as en,R as yo,P as vo,O as xo,C as bo,o as _o,S as wo,I as it,g as kn,h as Cn,j as Nn,k as Sn,l as jn,f as En,i as ko,L as Co}from"./input-_Q8CR-A7.js";import{g as bt,h as Et,c as fr,i as qe,u as Wt,P as Ne,a as Ce,k as No,m as So,R as jo,n as Eo,F as To,D as Ss,s as Mo,t as Do,v as js,w as Po,x as Oo,y as Ro,z as Ao,A as Io,B as Fo,Q as Ue,C as Vo,l as $o,E as Lo,G as Tn}from"./queries-Czt8bJQw.js";import{c as hr,R as Es,A as tn,C as Ts,b as Ms,d as Uo,a as Zo,u as Ds}from"./index-KDIqwVmn.js";import{c as me,f as zo,b as Vt}from"./utils-DSWj0Ekr.js";import{a as Ar}from"./routes-Du5Q4xOP.js";import{c as pe}from"./createLucideIcon-CQxwkk5I.js";import{C as Ps,a as Os,b as Rs,d as As}from"./card-CWnxHSfQ.js";const Is=6048e5,Wo=864e5,Fs=6e4,Vs=36e5,Xt=43200,Mn=1440,Dn=Symbol.for("constructDateFrom");function ze(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Dn in t?t[Dn](e):t instanceof Date?new t.constructor(e):new Date(e)}function be(t,e){return ze(e||t,t)}let Yo={};function Yt(){return Yo}function $t(t,e){const r=Yt(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=be(t,e?.in),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function tr(t,e){return $t(t,{...e,weekStartsOn:1})}function $s(t,e){const r=be(t,e?.in),n=r.getFullYear(),s=ze(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=tr(s),o=ze(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=tr(o);return r.getTime()>=a.getTime()?n+1:r.getTime()>=i.getTime()?n:n-1}function rr(t){const e=be(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function mr(t,...e){const r=ze.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function Pn(t,e){const r=be(t,e?.in);return r.setHours(0,0,0,0),r}function Bo(t,e,r){const[n,s]=mr(r?.in,t,e),a=Pn(n),o=Pn(s),i=+a-rr(a),u=+o-rr(o);return Math.round((i-u)/Wo)}function qo(t,e){const r=$s(t,e),n=ze(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),tr(n)}function er(t,e){const r=+be(t)-+be(e);return r<0?-1:r>0?1:r}function Ho(t){return ze(t,Date.now())}function Go(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Qo(t){return!(!Go(t)&&typeof t!="number"||isNaN(+be(t)))}function Xo(t,e,r){const[n,s]=mr(r?.in,t,e),a=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return a*12+o}function Ko(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Jo(t,e){return+be(t)-+be(e)}function ei(t,e){const r=be(t,e?.in);return r.setHours(23,59,59,999),r}function ti(t,e){const r=be(t,e?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function ri(t,e){const r=be(t,e?.in);return+ei(r,e)==+ti(r,e)}function ni(t,e,r){const[n,s,a]=mr(r?.in,t,t,e),o=er(s,a),i=Math.abs(Xo(s,a));if(i<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-o*i);let u=er(s,a)===-o;ri(n)&&i===1&&er(n,a)===1&&(u=!1);const l=o*(i-+u);return l===0?0:l}function si(t,e,r){const n=Jo(t,e)/1e3;return Ko(r?.roundingMethod)(n)}function ai(t,e){const r=be(t,e?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const oi={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ii=(t,e,r)=>{let n;const s=oi[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Sr(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const ci={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},li={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ui={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},di={date:Sr({formats:ci,defaultWidth:"full"}),time:Sr({formats:li,defaultWidth:"full"}),dateTime:Sr({formats:ui,defaultWidth:"full"})},fi={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hi=(t,e,r,n)=>fi[t];function Tt(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,i=r?.width?String(r.width):o;s=t.formattingValues[i]||t.formattingValues[o]}else{const o=t.defaultWidth,i=r?.width?String(r.width):t.defaultWidth;s=t.values[i]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}const mi={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pi={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gi={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yi={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vi={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xi={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bi=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},_i={ordinalNumber:bi,era:Tt({values:mi,defaultWidth:"wide"}),quarter:Tt({values:pi,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Tt({values:gi,defaultWidth:"wide"}),day:Tt({values:yi,defaultWidth:"wide"}),dayPeriod:Tt({values:vi,defaultWidth:"wide",formattingValues:xi,defaultFormattingWidth:"wide"})};function Mt(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const o=a[0],i=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(i)?ki(i,p=>p.test(o)):wi(i,p=>p.test(o));let l;l=t.valueCallback?t.valueCallback(u):u,l=r.valueCallback?r.valueCallback(l):l;const f=e.slice(o.length);return{value:l,rest:f}}}function wi(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function ki(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Ci(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const i=e.slice(s.length);return{value:o,rest:i}}}const Ni=/^(\d+)(th|st|nd|rd)?/i,Si=/\d+/i,ji={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ei={any:[/^b/i,/^(a|c)/i]},Ti={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mi={any:[/1/i,/2/i,/3/i,/4/i]},Di={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pi={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Oi={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ri={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ai={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ii={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Fi={ordinalNumber:Ci({matchPattern:Ni,parsePattern:Si,valueCallback:t=>parseInt(t,10)}),era:Mt({matchPatterns:ji,defaultMatchWidth:"wide",parsePatterns:Ei,defaultParseWidth:"any"}),quarter:Mt({matchPatterns:Ti,defaultMatchWidth:"wide",parsePatterns:Mi,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Mt({matchPatterns:Di,defaultMatchWidth:"wide",parsePatterns:Pi,defaultParseWidth:"any"}),day:Mt({matchPatterns:Oi,defaultMatchWidth:"wide",parsePatterns:Ri,defaultParseWidth:"any"}),dayPeriod:Mt({matchPatterns:Ai,defaultMatchWidth:"any",parsePatterns:Ii,defaultParseWidth:"any"})},Ls={code:"en-US",formatDistance:ii,formatLong:di,formatRelative:hi,localize:_i,match:Fi,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vi(t,e){const r=be(t,e?.in);return Bo(r,ai(r))+1}function $i(t,e){const r=be(t,e?.in),n=+tr(r)-+qo(r);return Math.round(n/Is)+1}function Us(t,e){const r=be(t,e?.in),n=r.getFullYear(),s=Yt(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=ze(e?.in||t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const i=$t(o,e),u=ze(e?.in||t,0);u.setFullYear(n,0,a),u.setHours(0,0,0,0);const l=$t(u,e);return+r>=+i?n+1:+r>=+l?n:n-1}function Li(t,e){const r=Yt(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=Us(t,e),a=ze(e?.in||t,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),$t(a,e)}function Ui(t,e){const r=be(t,e?.in),n=+$t(r,e)-+Li(r,e);return Math.round(n/Is)+1}function le(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Xe={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return le(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):le(r+1,2)},d(t,e){return le(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return le(t.getHours()%12||12,e.length)},H(t,e){return le(t.getHours(),e.length)},m(t,e){return le(t.getMinutes(),e.length)},s(t,e){return le(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return le(s,e.length)}},ht={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},On={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Xe.y(t,e)},Y:function(t,e,r,n){const s=Us(t,n),a=s>0?s:1-s;if(e==="YY"){const o=a%100;return le(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):le(a,e.length)},R:function(t,e){const r=$s(t);return le(r,e.length)},u:function(t,e){const r=t.getFullYear();return le(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return le(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return le(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Xe.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return le(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=Ui(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):le(s,e.length)},I:function(t,e,r){const n=$i(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):le(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Xe.d(t,e)},D:function(t,e,r){const n=Vi(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):le(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return le(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return le(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return le(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=ht.noon:n===0?s=ht.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=ht.evening:n>=12?s=ht.afternoon:n>=4?s=ht.morning:s=ht.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Xe.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Xe.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):le(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):le(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Xe.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Xe.s(t,e)},S:function(t,e){return Xe.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return An(n);case"XXXX":case"XX":return ct(n);case"XXXXX":case"XXX":default:return ct(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return An(n);case"xxxx":case"xx":return ct(n);case"xxxxx":case"xxx":default:return ct(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Rn(n,":");case"OOOO":default:return"GMT"+ct(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Rn(n,":");case"zzzz":default:return"GMT"+ct(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return le(n,e.length)},T:function(t,e,r){return le(+t,e.length)}};function Rn(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+e+le(a,2)}function An(t,e){return t%60===0?(t>0?"-":"+")+le(Math.abs(t)/60,2):ct(t,e)}function ct(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=le(Math.trunc(n/60),2),a=le(n%60,2);return r+s+e+a}const In=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Zs=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Zi=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return In(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",In(n,e)).replace("{{time}}",Zs(s,e))},zi={p:Zs,P:Zi},Wi=/^D+$/,Yi=/^Y+$/,Bi=["D","DD","YY","YYYY"];function qi(t){return Wi.test(t)}function Hi(t){return Yi.test(t)}function Gi(t,e,r){const n=Qi(t,e,r);if(console.warn(n),Bi.includes(t))throw new RangeError(n)}function Qi(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Xi=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ki=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ji=/^'([^]*?)'?$/,ec=/''/g,tc=/[a-zA-Z]/;function _t(t,e,r){const n=Yt(),s=n.locale??Ls,a=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=be(t,r?.in);if(!Qo(i))throw new RangeError("Invalid time value");let u=e.match(Ki).map(f=>{const p=f[0];if(p==="p"||p==="P"){const y=zi[p];return y(f,s.formatLong)}return f}).join("").match(Xi).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const p=f[0];if(p==="'")return{isToken:!1,value:rc(f)};if(On[p])return{isToken:!0,value:f};if(p.match(tc))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:f}});s.localize.preprocessor&&(u=s.localize.preprocessor(i,u));const l={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return u.map(f=>{if(!f.isToken)return f.value;const p=f.value;(Hi(p)||qi(p))&&Gi(p,e,String(t));const y=On[p[0]];return y(i,p,s.localize,l)}).join("")}function rc(t){const e=t.match(Ji);return e?e[1].replace(ec,"'"):t}function nc(t,e,r){const n=Yt(),s=r?.locale??n.locale??Ls,a=2520,o=er(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const i=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o}),[u,l]=mr(r?.in,...o>0?[e,t]:[t,e]),f=si(l,u),p=(rr(l)-rr(u))/1e3,y=Math.round((f-p)/60);let x;if(y<2)return r?.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,i):f<10?s.formatDistance("lessThanXSeconds",10,i):f<20?s.formatDistance("lessThanXSeconds",20,i):f<40?s.formatDistance("halfAMinute",0,i):f<60?s.formatDistance("lessThanXMinutes",1,i):s.formatDistance("xMinutes",1,i):y===0?s.formatDistance("lessThanXMinutes",1,i):s.formatDistance("xMinutes",y,i);if(y<45)return s.formatDistance("xMinutes",y,i);if(y<90)return s.formatDistance("aboutXHours",1,i);if(y<Mn){const R=Math.round(y/60);return s.formatDistance("aboutXHours",R,i)}else{if(y<a)return s.formatDistance("xDays",1,i);if(y<Xt){const R=Math.round(y/Mn);return s.formatDistance("xDays",R,i)}else if(y<Xt*2)return x=Math.round(y/Xt),s.formatDistance("aboutXMonths",x,i)}if(x=ni(l,u),x<12){const R=Math.round(y/Xt);return s.formatDistance("xMonths",R,i)}else{const R=x%12,D=Math.trunc(x/12);return R<3?s.formatDistance("aboutXYears",D,i):R<9?s.formatDistance("overXYears",D,i):s.formatDistance("almostXYears",D+1,i)}}function Fn(t,e){return nc(t,Ho(t),e)}function Rt(t,e){const r=()=>ze(e?.in,NaN),s=ic(t);let a;if(s.date){const l=cc(s.date,2);a=lc(l.restDateString,l.year)}if(!a||isNaN(+a))return r();const o=+a;let i=0,u;if(s.time&&(i=uc(s.time),isNaN(i)))return r();if(s.timezone){if(u=dc(s.timezone),isNaN(u))return r()}else{const l=new Date(o+i),f=be(0,e?.in);return f.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),f.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),f}return be(o+i+u,e?.in)}const Kt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},sc=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ac=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,oc=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ic(t){const e={},r=t.split(Kt.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Kt.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Kt.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const s=Kt.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function cc(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?s:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function lc(t,e){if(e===null)return new Date(NaN);const r=t.match(sc);if(!r)return new Date(NaN);const n=!!r[4],s=Dt(r[1]),a=Dt(r[2])-1,o=Dt(r[3]),i=Dt(r[4]),u=Dt(r[5])-1;if(n)return gc(e,i,u)?fc(e,i,u):new Date(NaN);{const l=new Date(0);return!mc(e,a,o)||!pc(e,s)?new Date(NaN):(l.setUTCFullYear(e,a,Math.max(s,o)),l)}}function Dt(t){return t?parseInt(t):1}function uc(t){const e=t.match(ac);if(!e)return NaN;const r=jr(e[1]),n=jr(e[2]),s=jr(e[3]);return yc(r,n,s)?r*Vs+n*Fs+s*1e3:NaN}function jr(t){return t&&parseFloat(t.replace(",","."))||0}function dc(t){if(t==="Z")return 0;const e=t.match(oc);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return vc(n,s)?r*(n*Vs+s*Fs):NaN}function fc(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,a=(e-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+a),n}const hc=[31,null,31,30,31,30,31,31,30,31,30,31];function zs(t){return t%400===0||t%4===0&&t%100!==0}function mc(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(hc[e]||(zs(t)?29:28))}function pc(t,e){return e>=1&&e<=(zs(t)?366:365)}function gc(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function yc(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function vc(t,e){return e>=0&&e<=59}const xc=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Vn=pe("arrow-down",xc);const bc=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],_c=pe("arrow-up",bc);const wc=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],kc=pe("calendar-days",wc);const Cc=[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],Nc=pe("car-taxi-front",Cc);const Sc=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ws=pe("chevron-left",Sc);const jc=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ys=pe("chevron-right",jc);const Ec=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Tc=pe("circle-question-mark",Ec);const Mc=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Dc=pe("dollar-sign",Mc);const Pc=[["path",{d:"M10 11h.01",key:"d2at3l"}],["path",{d:"M14 6h.01",key:"k028ub"}],["path",{d:"M18 6h.01",key:"1v4wsw"}],["path",{d:"M6.5 13.1h.01",key:"1748ia"}],["path",{d:"M22 5c0 9-4 12-6 12s-6-3-6-12c0-2 2-3 6-3s6 1 6 3",key:"172yzv"}],["path",{d:"M17.4 9.9c-.8.8-2 .8-2.8 0",key:"1obv0w"}],["path",{d:"M10.1 7.1C9 7.2 7.7 7.7 6 8.6c-3.5 2-4.7 3.9-3.7 5.6 4.5 7.8 9.5 8.4 11.2 7.4.9-.5 1.9-2.1 1.9-4.7",key:"rqjl8i"}],["path",{d:"M9.1 16.5c.3-1.1 1.4-1.7 2.4-1.4",key:"1mr6wy"}]],Oc=pe("drama",Pc);const Rc=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Ac=pe("gift",Rc);const Ic=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Fc=pe("graduation-cap",Ic);const Vc=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],$c=pe("hand-coins",Vc);const Lc=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],Uc=pe("heart-pulse",Lc);const Zc=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],zc=pe("house",Zc);const Wc=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Yc=pe("loader",Wc);const Bc=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],qc=pe("pencil",Bc);const Hc=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],Gc=pe("plane",Hc);const Qc=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]],Xc=pe("receipt-text",Qc);const Kc=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Jc=pe("refresh-ccw",Kc);const el=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],tl=pe("shopping-cart",el);const rl=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nl=pe("triangle-alert",rl);const sl=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],al=pe("utensils",sl);function ol(t){const e=il(t),r=h.forwardRef((n,s)=>{const{children:a,...o}=n,i=h.Children.toArray(a),u=i.find(ll);if(u){const l=u.props.children,f=i.map(p=>p===u?h.Children.count(l)>1?h.Children.only(null):h.isValidElement(l)?l.props.children:null:p);return c.jsx(e,{...o,ref:s,children:h.isValidElement(l)?h.cloneElement(l,void 0,f):null})}return c.jsx(e,{...o,ref:s,children:a})});return r.displayName=`${t}.Slot`,r}function il(t){const e=h.forwardRef((r,n)=>{const{children:s,...a}=r;if(h.isValidElement(s)){const o=dl(s),i=ul(a,s.props);return s.type!==h.Fragment&&(i.ref=n?bt(n,o):o),h.cloneElement(s,i)}return h.Children.count(s)>1?h.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cl=Symbol("radix.slottable");function ll(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cl}function ul(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...i)=>{const u=a(...i);return s(...i),u}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function dl(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var pr="Popover",[Bs]=fr(pr,[hr]),Bt=hr(),[fl,at]=Bs(pr),qs=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=t,i=Bt(e),u=h.useRef(null),[l,f]=h.useState(!1),[p,y]=Et({prop:n,defaultProp:s??!1,onChange:a,caller:pr});return c.jsx(Es,{...i,children:c.jsx(fl,{scope:e,contentId:qe(),triggerRef:u,open:p,onOpenChange:y,onOpenToggle:h.useCallback(()=>y(x=>!x),[y]),hasCustomAnchor:l,onCustomAnchorAdd:h.useCallback(()=>f(!0),[]),onCustomAnchorRemove:h.useCallback(()=>f(!1),[]),modal:o,children:r})})};qs.displayName=pr;var Hs="PopoverAnchor",hl=h.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=at(Hs,r),a=Bt(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:i}=s;return h.useEffect(()=>(o(),()=>i()),[o,i]),c.jsx(tn,{...a,...n,ref:e})});hl.displayName=Hs;var Gs="PopoverTrigger",Qs=h.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=at(Gs,r),a=Bt(r),o=Wt(e,s.triggerRef),i=c.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ta(s.open),...n,ref:o,onClick:Ce(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?i:c.jsx(tn,{asChild:!0,...a,children:i})});Qs.displayName=Gs;var rn="PopoverPortal",[ml,pl]=Bs(rn,{forceMount:void 0}),Xs=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,a=at(rn,e);return c.jsx(ml,{scope:e,forceMount:r,children:c.jsx(Jr,{present:r||a.open,children:c.jsx(No,{asChild:!0,container:s,children:n})})})};Xs.displayName=rn;var wt="PopoverContent",Ks=h.forwardRef((t,e)=>{const r=pl(wt,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,a=at(wt,t.__scopePopover);return c.jsx(Jr,{present:n||a.open,children:a.modal?c.jsx(yl,{...s,ref:e}):c.jsx(vl,{...s,ref:e})})});Ks.displayName=wt;var gl=ol("PopoverContent.RemoveScroll"),yl=h.forwardRef((t,e)=>{const r=at(wt,t.__scopePopover),n=h.useRef(null),s=Wt(e,n),a=h.useRef(!1);return h.useEffect(()=>{const o=n.current;if(o)return So(o)},[]),c.jsx(jo,{as:gl,allowPinchZoom:!0,children:c.jsx(Js,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,o=>{o.preventDefault(),a.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,u=i.button===0&&i.ctrlKey===!0,l=i.button===2||u;a.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),vl=h.forwardRef((t,e)=>{const r=at(wt,t.__scopePopover),n=h.useRef(!1),s=h.useRef(!1);return c.jsx(Js,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;r.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Js=h.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:l,onInteractOutside:f,...p}=t,y=at(wt,r),x=Bt(r);return Eo(),c.jsx(To,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:c.jsx(Ss,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:l,onDismiss:()=>y.onOpenChange(!1),children:c.jsx(Ts,{"data-state":ta(y.open),role:"dialog",id:y.contentId,...x,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ea="PopoverClose",xl=h.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=at(ea,r);return c.jsx(Ne.button,{type:"button",...n,ref:e,onClick:Ce(t.onClick,()=>s.onOpenChange(!1))})});xl.displayName=ea;var bl="PopoverArrow",_l=h.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=Bt(r);return c.jsx(Ms,{...s,...n,ref:e})});_l.displayName=bl;function ta(t){return t?"open":"closed"}var wl=qs,kl=Qs,Cl=Xs,ra=Ks;const Nl=wl,Sl=kl,na=h.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},s)=>c.jsx(Cl,{children:c.jsx(ra,{ref:s,align:e,sideOffset:r,className:me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));na.displayName=ra.displayName;const jl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function El({initialMonth:t,initialYear:e,className:r}){const n=Cs(),s=new Date,[a,o]=h.useState(t&&e?new Date(e,t-1):new Date(s.getFullYear(),s.getMonth())),[i,u]=h.useState(t&&e?new Date(e,t-1):new Date(s.getFullYear(),s.getMonth())),[l,f]=h.useState(!1);h.useEffect(()=>{if(t&&e){const j=new Date(e,t-1);o(j),u(j)}},[t,e]);const{data:p}=Mo(),y=(j,w)=>{if(!p?.monthlyData)return 0;const P=p.monthlyData.find(C=>Number(C.year)===j&&Number(C.month)===w+1);return P?(Number(P.totalIncome)||0)-(Number(P.totalExpenses)||0):0},x=()=>{u(j=>new Date(j.getFullYear()-1,j.getMonth()))},R=()=>{u(j=>new Date(j.getFullYear()+1,j.getMonth()))},D=j=>{const w=new Date(i.getFullYear(),j);o(w),f(!1);const P=i.getFullYear(),C=j+1;n.navigate({to:Ar.monthlyExpensesSummary(P,C)})},E=()=>a?_t(a,"MMMM yyyy"):"Select month and year";return c.jsxs(Nl,{open:l,onOpenChange:f,children:[c.jsx(Sl,{asChild:!0,children:c.jsx(De,{variant:"ghost",className:me("font-bold text-xl justify-start text-left",r),children:E()})}),c.jsxs(na,{className:"w-[320px] p-3",align:"start",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs(De,{variant:"outline",size:"icon",onClick:x,children:[c.jsx(Ws,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Previous year"})]}),c.jsx("div",{className:"font-medium",children:i.getFullYear()}),c.jsxs(De,{variant:"outline",size:"icon",onClick:R,children:[c.jsx(Ys,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Next year"})]})]}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:jl.map((j,w)=>{const P=a&&a.getMonth()===w&&a.getFullYear()===i.getFullYear(),C=s.getMonth()===w&&s.getFullYear()===i.getFullYear(),O=y(i.getFullYear(),w);return c.jsxs(De,{variant:P?"default":"outline",className:me("h-16 py-2 flex flex-col justify-center",C&&!P&&"border-2 border-blue-500 font-bold"),onClick:()=>D(w),children:[c.jsxs("div",{className:"relative w-full",children:[c.jsx("span",{className:"text-sm font-medium",children:j}),C&&c.jsx("span",{className:"absolute -top-1 -right-1 text-xs text-blue-500",children:"•"})]}),c.jsx("span",{className:`text-xs mt-1 font-medium ${O>0?"text-green-500":O<0?"text-red-500":"text-gray-500"}`,children:O!==0?zo(Math.round(Math.abs(O))):"–"})]},j)})})]})]})}const Tl=en("inline-flex items-center justify-center"),Ir=h.forwardRef(({className:t,variant:e,size:r,isLoading:n,children:s,...a},o)=>c.jsxs(De,{className:me(Tl(),"relative",t),ref:o,variant:e,size:r,disabled:n||a.disabled,...a,children:[n&&c.jsx(Yc,{className:me("w-4 h-4 animate-spin absolute")}),c.jsx("div",{className:n?"invisible":"",children:s})]}));Ir.displayName="ActionButton";var $n=1,Ml=.9,Dl=.8,Pl=.17,Er=.1,Tr=.999,Ol=.9999,Rl=.99,Al=/[\\\/_+.#"@\[\(\{&]/,Il=/[\\\/_+.#"@\[\(\{&]/g,Fl=/[\s-]/,sa=/[\s-]/g;function Fr(t,e,r,n,s,a,o){if(a===e.length)return s===t.length?$n:Rl;var i=`${s},${a}`;if(o[i]!==void 0)return o[i];for(var u=n.charAt(a),l=r.indexOf(u,s),f=0,p,y,x,R;l>=0;)p=Fr(t,e,r,n,l+1,a+1,o),p>f&&(l===s?p*=$n:Al.test(t.charAt(l-1))?(p*=Dl,x=t.slice(s,l-1).match(Il),x&&s>0&&(p*=Math.pow(Tr,x.length))):Fl.test(t.charAt(l-1))?(p*=Ml,R=t.slice(s,l-1).match(sa),R&&s>0&&(p*=Math.pow(Tr,R.length))):(p*=Pl,s>0&&(p*=Math.pow(Tr,l-s))),t.charAt(l)!==e.charAt(a)&&(p*=Ol)),(p<Er&&r.charAt(l-1)===n.charAt(a+1)||n.charAt(a+1)===n.charAt(a)&&r.charAt(l-1)!==n.charAt(a))&&(y=Fr(t,e,r,n,l+1,a+2,o),y*Er>p&&(p=y*Er)),p>f&&(f=p),l=r.indexOf(u,l+1);return o[i]=f,f}function Ln(t){return t.toLowerCase().replace(sa," ")}function Vl(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,Fr(t,e,Ln(t),Ln(e),0,0,{})}var Pt='[cmdk-group=""]',Mr='[cmdk-group-items=""]',$l='[cmdk-group-heading=""]',aa='[cmdk-item=""]',Un=`${aa}:not([aria-disabled="true"])`,Vr="cmdk-item-select",gt="data-value",Ll=(t,e,r)=>Vl(t,e,r),oa=h.createContext(void 0),qt=()=>h.useContext(oa),ia=h.createContext(void 0),nn=()=>h.useContext(ia),ca=h.createContext(void 0),la=h.forwardRef((t,e)=>{let r=yt(()=>{var v,W;return{search:"",value:(W=(v=t.value)!=null?v:t.defaultValue)!=null?W:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=yt(()=>new Set),s=yt(()=>new Map),a=yt(()=>new Map),o=yt(()=>new Set),i=ua(t),{label:u,children:l,value:f,onValueChange:p,filter:y,shouldFilter:x,loop:R,disablePointerSelection:D=!1,vimBindings:E=!0,...j}=t,w=qe(),P=qe(),C=qe(),O=h.useRef(null),Z=Xl();dt(()=>{if(f!==void 0){let v=f.trim();r.current.value=v,Y.emit()}},[f]),dt(()=>{Z(6,V)},[]);let Y=h.useMemo(()=>({subscribe:v=>(o.current.add(v),()=>o.current.delete(v)),snapshot:()=>r.current,setState:(v,W,G)=>{var F,X,oe,we;if(!Object.is(r.current[v],W)){if(r.current[v]=W,v==="search")z(),Q(),Z(1,de);else if(v==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let k=document.getElementById(C);k?k.focus():(F=document.getElementById(w))==null||F.focus()}if(Z(7,()=>{var k;r.current.selectedItemId=(k=J())==null?void 0:k.id,Y.emit()}),G||Z(5,V),((X=i.current)==null?void 0:X.value)!==void 0){let k=W??"";(we=(oe=i.current).onValueChange)==null||we.call(oe,k);return}}Y.emit()}},emit:()=>{o.current.forEach(v=>v())}}),[]),te=h.useMemo(()=>({value:(v,W,G)=>{var F;W!==((F=a.current.get(v))==null?void 0:F.value)&&(a.current.set(v,{value:W,keywords:G}),r.current.filtered.items.set(v,se(W,G)),Z(2,()=>{Q(),Y.emit()}))},item:(v,W)=>(n.current.add(v),W&&(s.current.has(W)?s.current.get(W).add(v):s.current.set(W,new Set([v]))),Z(3,()=>{z(),Q(),r.current.value||de(),Y.emit()}),()=>{a.current.delete(v),n.current.delete(v),r.current.filtered.items.delete(v);let G=J();Z(4,()=>{z(),G?.getAttribute("id")===v&&de(),Y.emit()})}),group:v=>(s.current.has(v)||s.current.set(v,new Set),()=>{a.current.delete(v),s.current.delete(v)}),filter:()=>i.current.shouldFilter,label:u||t["aria-label"],getDisablePointerSelection:()=>i.current.disablePointerSelection,listId:w,inputId:C,labelId:P,listInnerRef:O}),[]);function se(v,W){var G,F;let X=(F=(G=i.current)==null?void 0:G.filter)!=null?F:Ll;return v?X(v,r.current.search,W):0}function Q(){if(!r.current.search||i.current.shouldFilter===!1)return;let v=r.current.filtered.items,W=[];r.current.filtered.groups.forEach(F=>{let X=s.current.get(F),oe=0;X.forEach(we=>{let k=v.get(we);oe=Math.max(k,oe)}),W.push([F,oe])});let G=O.current;ae().sort((F,X)=>{var oe,we;let k=F.getAttribute("id"),re=X.getAttribute("id");return((oe=v.get(re))!=null?oe:0)-((we=v.get(k))!=null?we:0)}).forEach(F=>{let X=F.closest(Mr);X?X.appendChild(F.parentElement===X?F:F.closest(`${Mr} > *`)):G.appendChild(F.parentElement===G?F:F.closest(`${Mr} > *`))}),W.sort((F,X)=>X[1]-F[1]).forEach(F=>{var X;let oe=(X=O.current)==null?void 0:X.querySelector(`${Pt}[${gt}="${encodeURIComponent(F[0])}"]`);oe?.parentElement.appendChild(oe)})}function de(){let v=ae().find(G=>G.getAttribute("aria-disabled")!=="true"),W=v?.getAttribute(gt);Y.setState("value",W||void 0)}function z(){var v,W,G,F;if(!r.current.search||i.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let X=0;for(let oe of n.current){let we=(W=(v=a.current.get(oe))==null?void 0:v.value)!=null?W:"",k=(F=(G=a.current.get(oe))==null?void 0:G.keywords)!=null?F:[],re=se(we,k);r.current.filtered.items.set(oe,re),re>0&&X++}for(let[oe,we]of s.current)for(let k of we)if(r.current.filtered.items.get(k)>0){r.current.filtered.groups.add(oe);break}r.current.filtered.count=X}function V(){var v,W,G;let F=J();F&&(((v=F.parentElement)==null?void 0:v.firstChild)===F&&((G=(W=F.closest(Pt))==null?void 0:W.querySelector($l))==null||G.scrollIntoView({block:"nearest"})),F.scrollIntoView({block:"nearest"}))}function J(){var v;return(v=O.current)==null?void 0:v.querySelector(`${aa}[aria-selected="true"]`)}function ae(){var v;return Array.from(((v=O.current)==null?void 0:v.querySelectorAll(Un))||[])}function K(v){let W=ae()[v];W&&Y.setState("value",W.getAttribute(gt))}function U(v){var W;let G=J(),F=ae(),X=F.findIndex(we=>we===G),oe=F[X+v];(W=i.current)!=null&&W.loop&&(oe=X+v<0?F[F.length-1]:X+v===F.length?F[0]:F[X+v]),oe&&Y.setState("value",oe.getAttribute(gt))}function fe(v){let W=J(),G=W?.closest(Pt),F;for(;G&&!F;)G=v>0?Gl(G,Pt):Ql(G,Pt),F=G?.querySelector(Un);F?Y.setState("value",F.getAttribute(gt)):U(v)}let _e=()=>K(ae().length-1),Oe=v=>{v.preventDefault(),v.metaKey?_e():v.altKey?fe(1):U(1)},Ge=v=>{v.preventDefault(),v.metaKey?K(0):v.altKey?fe(-1):U(-1)};return h.createElement(Ne.div,{ref:e,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:v=>{var W;(W=j.onKeyDown)==null||W.call(j,v);let G=v.nativeEvent.isComposing||v.keyCode===229;if(!(v.defaultPrevented||G))switch(v.key){case"n":case"j":{E&&v.ctrlKey&&Oe(v);break}case"ArrowDown":{Oe(v);break}case"p":case"k":{E&&v.ctrlKey&&Ge(v);break}case"ArrowUp":{Ge(v);break}case"Home":{v.preventDefault(),K(0);break}case"End":{v.preventDefault(),_e();break}case"Enter":{v.preventDefault();let F=J();if(F){let X=new Event(Vr);F.dispatchEvent(X)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:te.inputId,id:te.labelId,style:Jl},u),yr(t,v=>h.createElement(ia.Provider,{value:Y},h.createElement(oa.Provider,{value:te},v))))}),Ul=h.forwardRef((t,e)=>{var r,n;let s=qe(),a=h.useRef(null),o=h.useContext(ca),i=qt(),u=ua(t),l=(n=(r=u.current)==null?void 0:r.forceMount)!=null?n:o?.forceMount;dt(()=>{if(!l)return i.item(s,o?.id)},[l]);let f=da(s,a,[t.value,t.children,a],t.keywords),p=nn(),y=rt(Z=>Z.value&&Z.value===f.current),x=rt(Z=>l||i.filter()===!1?!0:Z.search?Z.filtered.items.get(s)>0:!0);h.useEffect(()=>{let Z=a.current;if(!(!Z||t.disabled))return Z.addEventListener(Vr,R),()=>Z.removeEventListener(Vr,R)},[x,t.onSelect,t.disabled]);function R(){var Z,Y;D(),(Y=(Z=u.current).onSelect)==null||Y.call(Z,f.current)}function D(){p.setState("value",f.current,!0)}if(!x)return null;let{disabled:E,value:j,onSelect:w,forceMount:P,keywords:C,...O}=t;return h.createElement(Ne.div,{ref:bt(a,e),...O,id:s,"cmdk-item":"",role:"option","aria-disabled":!!E,"aria-selected":!!y,"data-disabled":!!E,"data-selected":!!y,onPointerMove:E||i.getDisablePointerSelection()?void 0:D,onClick:E?void 0:R},t.children)}),Zl=h.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:s,...a}=t,o=qe(),i=h.useRef(null),u=h.useRef(null),l=qe(),f=qt(),p=rt(x=>s||f.filter()===!1?!0:x.search?x.filtered.groups.has(o):!0);dt(()=>f.group(o),[]),da(o,i,[t.value,t.heading,u]);let y=h.useMemo(()=>({id:o,forceMount:s}),[s]);return h.createElement(Ne.div,{ref:bt(i,e),...a,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},r&&h.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:l},r),yr(t,x=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?l:void 0},h.createElement(ca.Provider,{value:y},x))))}),zl=h.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,s=h.useRef(null),a=rt(o=>!o.search);return!r&&!a?null:h.createElement(Ne.div,{ref:bt(s,e),...n,"cmdk-separator":"",role:"separator"})}),Wl=h.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,s=t.value!=null,a=nn(),o=rt(l=>l.search),i=rt(l=>l.selectedItemId),u=qt();return h.useEffect(()=>{t.value!=null&&a.setState("search",t.value)},[t.value]),h.createElement(Ne.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":i,id:u.inputId,type:"text",value:s?t.value:o,onChange:l=>{s||a.setState("search",l.target.value),r?.(l.target.value)}})}),Yl=h.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...s}=t,a=h.useRef(null),o=h.useRef(null),i=rt(l=>l.selectedItemId),u=qt();return h.useEffect(()=>{if(o.current&&a.current){let l=o.current,f=a.current,p,y=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let x=l.offsetHeight;f.style.setProperty("--cmdk-list-height",x.toFixed(1)+"px")})});return y.observe(l),()=>{cancelAnimationFrame(p),y.unobserve(l)}}},[]),h.createElement(Ne.div,{ref:bt(a,e),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":i,"aria-label":n,id:u.listId},yr(t,l=>h.createElement("div",{ref:bt(o,u.listInnerRef),"cmdk-list-sizer":""},l)))}),Bl=h.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:a,container:o,...i}=t;return h.createElement(yo,{open:r,onOpenChange:n},h.createElement(vo,{container:o},h.createElement(xo,{"cmdk-overlay":"",className:s}),h.createElement(bo,{"aria-label":t.label,"cmdk-dialog":"",className:a},h.createElement(la,{ref:e,...i}))))}),ql=h.forwardRef((t,e)=>rt(r=>r.filtered.count===0)?h.createElement(Ne.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),Hl=h.forwardRef((t,e)=>{let{progress:r,children:n,label:s="Loading...",...a}=t;return h.createElement(Ne.div,{ref:e,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},yr(t,o=>h.createElement("div",{"aria-hidden":!0},o)))}),gr=Object.assign(la,{List:Yl,Item:Ul,Input:Wl,Group:Zl,Separator:zl,Dialog:Bl,Empty:ql,Loading:Hl});function Gl(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function Ql(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function ua(t){let e=h.useRef(t);return dt(()=>{e.current=t}),e}var dt=typeof window>"u"?h.useEffect:h.useLayoutEffect;function yt(t){let e=h.useRef();return e.current===void 0&&(e.current=t()),e}function rt(t){let e=nn(),r=()=>t(e.snapshot());return h.useSyncExternalStore(e.subscribe,r,r)}function da(t,e,r,n=[]){let s=h.useRef(),a=qt();return dt(()=>{var o;let i=(()=>{var l;for(let f of r){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(l=f.current.textContent)==null?void 0:l.trim():s.current}})(),u=n.map(l=>l.trim());a.value(t,i,u),(o=e.current)==null||o.setAttribute(gt,i),s.current=i}),s}var Xl=()=>{let[t,e]=h.useState(),r=yt(()=>new Map);return dt(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,s)=>{r.current.set(n,s),e({})}};function Kl(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function yr({asChild:t,children:e},r){return t&&h.isValidElement(e)?h.cloneElement(Kl(e),{ref:e.ref},r(e.props.children)):r(e)}var Jl={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function eu({className:t,...e}){return c.jsx(gr,{"data-slot":"command",className:me("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...e})}function tu({className:t,...e}){return c.jsx(gr.List,{"data-slot":"command-list",className:me("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),...e})}function ru({className:t,...e}){return c.jsx(gr.Group,{"data-slot":"command-group",className:me("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...e})}function nu({className:t,...e}){return c.jsx(gr.Item,{"data-slot":"command-item",className:me("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}var Ht=t=>t.type==="checkbox",ut=t=>t instanceof Date,je=t=>t==null;const fa=t=>typeof t=="object";var xe=t=>!je(t)&&!Array.isArray(t)&&fa(t)&&!ut(t),ha=t=>xe(t)&&t.target?Ht(t.target)?t.target.checked:t.target.value:t,su=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ma=(t,e)=>t.has(su(e)),au=t=>{const e=t.constructor&&t.constructor.prototype;return xe(e)&&e.hasOwnProperty("isPrototypeOf")},sn=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ke(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(sn&&(t instanceof Blob||n))&&(r||xe(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!au(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=ke(t[s]));else return t;return e}var vr=t=>/^\w*$/.test(t),he=t=>t===void 0,an=t=>Array.isArray(t)?t.filter(Boolean):[],on=t=>an(t.replace(/["|']|\]/g,"").split(/\.|\[/)),S=(t,e,r)=>{if(!e||!xe(t))return r;const n=(vr(e)?[e]:on(e)).reduce((s,a)=>je(s)?s:s[a],t);return he(n)||n===t?he(t[e])?r:t[e]:n},Te=t=>typeof t=="boolean",ce=(t,e,r)=>{let n=-1;const s=vr(e)?[e]:on(e),a=s.length,o=a-1;for(;++n<a;){const i=s[n];let u=r;if(n!==o){const l=t[i];u=xe(l)||Array.isArray(l)?l:isNaN(+s[n+1])?{}:[]}if(i==="__proto__"||i==="constructor"||i==="prototype")return;t[i]=u,t=t[i]}};const nr={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ve={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Be={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},cn=L.createContext(null);cn.displayName="HookFormContext";const xr=()=>L.useContext(cn),ou=t=>{const{children:e,...r}=t;return L.createElement(cn.Provider,{value:r},e)};var pa=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(s,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Ve.all&&(e._proxyFormState[o]=!n||Ve.all),r&&(r[o]=!0),t[o]}});return s};const ln=typeof window<"u"?L.useLayoutEffect:L.useEffect;function iu(t){const e=xr(),{control:r=e.control,disabled:n,name:s,exact:a}=t||{},[o,i]=L.useState(r._formState),u=L.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ln(()=>r._subscribe({name:s,formState:u.current,exact:a,callback:l=>{!n&&i({...r._formState,...l})}}),[s,n,a]),L.useEffect(()=>{u.current.isValid&&r._setValid(!0)},[r]),L.useMemo(()=>pa(o,r,u.current,!1),[o,r])}var Me=t=>typeof t=="string",$r=(t,e,r,n,s)=>Me(t)?(n&&e.watch.add(t),S(r,t,s)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),S(r,a))):(n&&(e.watchAll=!0),r),Lr=t=>je(t)||!fa(t);function $e(t,e,r=new WeakSet){if(Lr(t)||Lr(e))return Object.is(t,e);if(ut(t)&&ut(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const a of n){const o=t[a];if(!s.includes(a))return!1;if(a!=="ref"){const i=e[a];if(ut(o)&&ut(i)||xe(o)&&xe(i)||Array.isArray(o)&&Array.isArray(i)?!$e(o,i,r):!Object.is(o,i))return!1}}return!0}function cu(t){const e=xr(),{control:r=e.control,name:n,defaultValue:s,disabled:a,exact:o,compute:i}=t||{},u=L.useRef(s),l=L.useRef(i),f=L.useRef(void 0),p=L.useRef(r),y=L.useRef(n);l.current=i;const[x,R]=L.useState(()=>{const C=r._getWatch(n,u.current);return l.current?l.current(C):C}),D=L.useCallback(C=>{const O=$r(n,r._names,C||r._formValues,!1,u.current);return l.current?l.current(O):O},[r._formValues,r._names,n]),E=L.useCallback(C=>{if(!a){const O=$r(n,r._names,C||r._formValues,!1,u.current);if(l.current){const Z=l.current(O);$e(Z,f.current)||(R(Z),f.current=Z)}else R(O)}},[r._formValues,r._names,a,n]);ln(()=>((p.current!==r||!$e(y.current,n))&&(p.current=r,y.current=n,E()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:C=>{E(C.values)}})),[r,o,n,E]),L.useEffect(()=>r._removeUnmounted());const j=p.current!==r,w=y.current,P=L.useMemo(()=>{if(a)return null;const C=!j&&!$e(w,n);return j||C?D():null},[a,j,n,w,D]);return P!==null?P:x}function lu(t){const e=xr(),{name:r,disabled:n,control:s=e.control,shouldUnregister:a,defaultValue:o}=t,i=ma(s._names.array,r),u=L.useMemo(()=>S(s._formValues,r,S(s._defaultValues,r,o)),[s,r,o]),l=cu({control:s,name:r,defaultValue:u,exact:!0}),f=iu({control:s,name:r,exact:!0}),p=L.useRef(t),y=L.useRef(void 0),x=L.useRef(s.register(r,{...t.rules,value:l,...Te(t.disabled)?{disabled:t.disabled}:{}}));p.current=t;const R=L.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!S(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!S(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!S(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!S(f.validatingFields,r)},error:{enumerable:!0,get:()=>S(f.errors,r)}}),[f,r]),D=L.useCallback(P=>x.current.onChange({target:{value:ha(P),name:r},type:nr.CHANGE}),[r]),E=L.useCallback(()=>x.current.onBlur({target:{value:S(s._formValues,r),name:r},type:nr.BLUR}),[r,s._formValues]),j=L.useCallback(P=>{const C=S(s._fields,r);C&&P&&(C._f.ref={focus:()=>P.focus&&P.focus(),select:()=>P.select&&P.select(),setCustomValidity:O=>P.setCustomValidity(O),reportValidity:()=>P.reportValidity()})},[s._fields,r]),w=L.useMemo(()=>({name:r,value:l,...Te(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:D,onBlur:E,ref:j}),[r,n,f.disabled,D,E,j,l]);return L.useEffect(()=>{const P=s._options.shouldUnregister||a,C=y.current;C&&C!==r&&!i&&s.unregister(C),s.register(r,{...p.current.rules,...Te(p.current.disabled)?{disabled:p.current.disabled}:{}});const O=(Z,Y)=>{const te=S(s._fields,Z);te&&te._f&&(te._f.mount=Y)};if(O(r,!0),P){const Z=ke(S(s._options.defaultValues,r,p.current.defaultValue));ce(s._defaultValues,r,Z),he(S(s._formValues,r))&&ce(s._formValues,r,Z)}return!i&&s.register(r),y.current=r,()=>{(i?P&&!s._state.action:P)?s.unregister(r):O(r,!1)}},[r,s,i,a]),L.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),L.useMemo(()=>({field:w,formState:f,fieldState:R}),[w,f,R])}const uu=t=>t.render(lu(t));var un=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},It=t=>Array.isArray(t)?t:[t],Zn=()=>{let t=[];return{get observers(){return t},next:s=>{for(const a of t)a.next&&a.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(a=>a!==s)}}),unsubscribe:()=>{t=[]}}};function ga(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],a=e[n];if(s&&xe(s)&&a){const o=ga(s,a);xe(o)&&(r[n]=o)}else t[n]&&(r[n]=a)}return r}var Se=t=>xe(t)&&!Object.keys(t).length,dn=t=>t.type==="file",Le=t=>typeof t=="function",sr=t=>{if(!sn)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ya=t=>t.type==="select-multiple",fn=t=>t.type==="radio",du=t=>fn(t)||Ht(t),Dr=t=>sr(t)&&t.isConnected;function fu(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=he(t)?n++:t[e[n++]];return t}function hu(t){for(const e in t)if(t.hasOwnProperty(e)&&!he(t[e]))return!1;return!0}function ye(t,e){const r=Array.isArray(e)?e:vr(e)?[e]:on(e),n=r.length===1?t:fu(t,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(xe(n)&&Se(n)||Array.isArray(n)&&hu(n))&&ye(t,r.slice(0,-1)),t}var mu=t=>{for(const e in t)if(Le(t[e]))return!0;return!1};function va(t){return Array.isArray(t)||xe(t)&&!mu(t)}function Ur(t,e={}){for(const r in t){const n=t[r];va(n)?(e[r]=Array.isArray(n)?[]:{},Ur(n,e[r])):he(n)||(e[r]=!0)}return e}function vt(t,e,r){r||(r=Ur(e));for(const n in t){const s=t[n];if(va(s))he(e)||Lr(r[n])?r[n]=Ur(s,Array.isArray(s)?[]:{}):vt(s,je(e)?{}:e[n],r[n]);else{const a=e[n];r[n]=!$e(s,a)}}return r}const zn={value:!1,isValid:!1},Wn={value:!0,isValid:!0};var xa=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!he(t[0].attributes.value)?he(t[0].value)||t[0].value===""?Wn:{value:t[0].value,isValid:!0}:Wn:zn}return zn},ba=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>he(t)?t:e?t===""?NaN:t&&+t:r&&Me(t)?new Date(t):n?n(t):t;const Yn={isValid:!1,value:null};var _a=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Yn):Yn;function Bn(t){const e=t.ref;return dn(e)?e.files:fn(e)?_a(t.refs).value:ya(e)?[...e.selectedOptions].map(({value:r})=>r):Ht(e)?xa(t.refs).value:ba(he(e.value)?t.ref.value:e.value,t)}var pu=(t,e,r,n)=>{const s={};for(const a of t){const o=S(e,a);o&&ce(s,a,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},ar=t=>t instanceof RegExp,Ot=t=>he(t)?t:ar(t)?t.source:xe(t)?ar(t.value)?t.value.source:t.value:t,qn=t=>({isOnSubmit:!t||t===Ve.onSubmit,isOnBlur:t===Ve.onBlur,isOnChange:t===Ve.onChange,isOnAll:t===Ve.all,isOnTouch:t===Ve.onTouched});const Hn="AsyncFunction";var gu=t=>!!t&&!!t.validate&&!!(Le(t.validate)&&t.validate.constructor.name===Hn||xe(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Hn)),yu=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Gn=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ft=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const a=S(t,s);if(a){const{_f:o,...i}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Ft(i,e))break}else if(xe(i)&&Ft(i,e))break}}};function Qn(t,e,r){const n=S(t,r);if(n||vr(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=S(e,a),i=S(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(i&&i.type)return{name:a,error:i};if(i&&i.root&&i.root.type)return{name:`${a}.root`,error:i.root};s.pop()}return{name:r}}var vu=(t,e,r,n)=>{r(t);const{name:s,...a}=t;return Se(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||Ve.all))},xu=(t,e,r)=>!t||!e||t===e||It(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),bu=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,_u=(t,e)=>!an(S(t,e)).length&&ye(t,e),wu=(t,e,r)=>{const n=It(S(t,r));return ce(n,"root",e[r]),ce(t,r,n),t};function Xn(t,e,r="validate"){if(Me(t)||Array.isArray(t)&&t.every(Me)||Te(t)&&!t)return{type:r,message:Me(t)?t:"",ref:e}}var mt=t=>xe(t)&&!ar(t)?t:{value:t,message:""},Kn=async(t,e,r,n,s,a)=>{const{ref:o,refs:i,required:u,maxLength:l,minLength:f,min:p,max:y,pattern:x,validate:R,name:D,valueAsNumber:E,mount:j}=t._f,w=S(r,D);if(!j||e.has(D))return{};const P=i?i[0]:o,C=z=>{s&&P.reportValidity&&(P.setCustomValidity(Te(z)?"":z||""),P.reportValidity())},O={},Z=fn(o),Y=Ht(o),te=Z||Y,se=(E||dn(o))&&he(o.value)&&he(w)||sr(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,Q=un.bind(null,D,n,O),de=(z,V,J,ae=Be.maxLength,K=Be.minLength)=>{const U=z?V:J;O[D]={type:z?ae:K,message:U,ref:o,...Q(z?ae:K,U)}};if(a?!Array.isArray(w)||!w.length:u&&(!te&&(se||je(w))||Te(w)&&!w||Y&&!xa(i).isValid||Z&&!_a(i).isValid)){const{value:z,message:V}=Me(u)?{value:!!u,message:u}:mt(u);if(z&&(O[D]={type:Be.required,message:V,ref:P,...Q(Be.required,V)},!n))return C(V),O}if(!se&&(!je(p)||!je(y))){let z,V;const J=mt(y),ae=mt(p);if(!je(w)&&!isNaN(w)){const K=o.valueAsNumber||w&&+w;je(J.value)||(z=K>J.value),je(ae.value)||(V=K<ae.value)}else{const K=o.valueAsDate||new Date(w),U=Oe=>new Date(new Date().toDateString()+" "+Oe),fe=o.type=="time",_e=o.type=="week";Me(J.value)&&w&&(z=fe?U(w)>U(J.value):_e?w>J.value:K>new Date(J.value)),Me(ae.value)&&w&&(V=fe?U(w)<U(ae.value):_e?w<ae.value:K<new Date(ae.value))}if((z||V)&&(de(!!z,J.message,ae.message,Be.max,Be.min),!n))return C(O[D].message),O}if((l||f)&&!se&&(Me(w)||a&&Array.isArray(w))){const z=mt(l),V=mt(f),J=!je(z.value)&&w.length>+z.value,ae=!je(V.value)&&w.length<+V.value;if((J||ae)&&(de(J,z.message,V.message),!n))return C(O[D].message),O}if(x&&!se&&Me(w)){const{value:z,message:V}=mt(x);if(ar(z)&&!w.match(z)&&(O[D]={type:Be.pattern,message:V,ref:o,...Q(Be.pattern,V)},!n))return C(V),O}if(R){if(Le(R)){const z=await R(w,r),V=Xn(z,P);if(V&&(O[D]={...V,...Q(Be.validate,V.message)},!n))return C(V.message),O}else if(xe(R)){let z={};for(const V in R){if(!Se(z)&&!n)break;const J=Xn(await R[V](w,r),P,V);J&&(z={...J,...Q(V,J.message)},C(J.message),n&&(O[D]=z))}if(!Se(z)&&(O[D]={ref:P,...z},!n))return O}}return C(!0),O};const ku={mode:Ve.onSubmit,reValidateMode:Ve.onChange,shouldFocusError:!0};function Cu(t={}){let e={...ku,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Le(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=xe(e.defaultValues)||xe(e.values)?ke(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:ke(s),o={action:!1,mount:!1,watch:!1},i={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,l=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...f};const y={array:Zn(),state:Zn()},x=e.criteriaMode===Ve.all,R=d=>m=>{clearTimeout(l),l=setTimeout(d,m)},D=async d=>{if(!e.disabled&&(f.isValid||p.isValid||d)){const m=e.resolver?Se((await Y()).errors):await se(n,!0);m!==r.isValid&&y.state.next({isValid:m})}},E=(d,m)=>{!e.disabled&&(f.isValidating||f.validatingFields||p.isValidating||p.validatingFields)&&((d||Array.from(i.mount)).forEach(g=>{g&&(m?ce(r.validatingFields,g,m):ye(r.validatingFields,g))}),y.state.next({validatingFields:r.validatingFields,isValidating:!Se(r.validatingFields)}))},j=(d,m=[],g,M,N=!0,_=!0)=>{if(M&&g&&!e.disabled){if(o.action=!0,_&&Array.isArray(S(n,d))){const $=g(S(n,d),M.argA,M.argB);N&&ce(n,d,$)}if(_&&Array.isArray(S(r.errors,d))){const $=g(S(r.errors,d),M.argA,M.argB);N&&ce(r.errors,d,$),_u(r.errors,d)}if((f.touchedFields||p.touchedFields)&&_&&Array.isArray(S(r.touchedFields,d))){const $=g(S(r.touchedFields,d),M.argA,M.argB);N&&ce(r.touchedFields,d,$)}(f.dirtyFields||p.dirtyFields)&&(r.dirtyFields=vt(s,a)),y.state.next({name:d,isDirty:de(d,m),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ce(a,d,m)},w=(d,m)=>{ce(r.errors,d,m),y.state.next({errors:r.errors})},P=d=>{r.errors=d,y.state.next({errors:r.errors,isValid:!1})},C=(d,m,g,M)=>{const N=S(n,d);if(N){const _=S(a,d,he(g)?S(s,d):g);he(_)||M&&M.defaultChecked||m?ce(a,d,m?_:Bn(N._f)):J(d,_),o.mount&&!o.action&&D()}},O=(d,m,g,M,N)=>{let _=!1,$=!1;const ie={name:d};if(!e.disabled){if(!g||M){(f.isDirty||p.isDirty)&&($=r.isDirty,r.isDirty=ie.isDirty=de(),_=$!==ie.isDirty);const ue=$e(S(s,d),m);$=!!S(r.dirtyFields,d),ue?ye(r.dirtyFields,d):ce(r.dirtyFields,d,!0),ie.dirtyFields=r.dirtyFields,_=_||(f.dirtyFields||p.dirtyFields)&&$!==!ue}if(g){const ue=S(r.touchedFields,d);ue||(ce(r.touchedFields,d,g),ie.touchedFields=r.touchedFields,_=_||(f.touchedFields||p.touchedFields)&&ue!==g)}_&&N&&y.state.next(ie)}return _?ie:{}},Z=(d,m,g,M)=>{const N=S(r.errors,d),_=(f.isValid||p.isValid)&&Te(m)&&r.isValid!==m;if(e.delayError&&g?(u=R(()=>w(d,g)),u(e.delayError)):(clearTimeout(l),u=null,g?ce(r.errors,d,g):ye(r.errors,d)),(g?!$e(N,g):N)||!Se(M)||_){const $={...M,..._&&Te(m)?{isValid:m}:{},errors:r.errors,name:d};r={...r,...$},y.state.next($)}},Y=async d=>{E(d,!0);const m=await e.resolver(a,e.context,pu(d||i.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return E(d),m},te=async d=>{const{errors:m}=await Y(d);if(d)for(const g of d){const M=S(m,g);M?ce(r.errors,g,M):ye(r.errors,g)}else r.errors=m;return m},se=async(d,m,g={valid:!0})=>{for(const M in d){const N=d[M];if(N){const{_f:_,...$}=N;if(_){const ie=i.array.has(_.name),ue=N._f&&gu(N._f);ue&&f.validatingFields&&E([_.name],!0);const Re=await Kn(N,i.disabled,a,x,e.shouldUseNativeValidation&&!m,ie);if(ue&&f.validatingFields&&E([_.name]),Re[_.name]&&(g.valid=!1,m))break;!m&&(S(Re,_.name)?ie?wu(r.errors,Re,_.name):ce(r.errors,_.name,Re[_.name]):ye(r.errors,_.name))}!Se($)&&await se($,m,g)}}return g.valid},Q=()=>{for(const d of i.unMount){const m=S(n,d);m&&(m._f.refs?m._f.refs.every(g=>!Dr(g)):!Dr(m._f.ref))&&oe(d)}i.unMount=new Set},de=(d,m)=>!e.disabled&&(d&&m&&ce(a,d,m),!$e(Oe(),s)),z=(d,m,g)=>$r(d,i,{...o.mount?a:he(m)?s:Me(d)?{[d]:m}:m},g,m),V=d=>an(S(o.mount?a:s,d,e.shouldUnregister?S(s,d,[]):[])),J=(d,m,g={})=>{const M=S(n,d);let N=m;if(M){const _=M._f;_&&(!_.disabled&&ce(a,d,ba(m,_)),N=sr(_.ref)&&je(m)?"":m,ya(_.ref)?[..._.ref.options].forEach($=>$.selected=N.includes($.value)):_.refs?Ht(_.ref)?_.refs.forEach($=>{(!$.defaultChecked||!$.disabled)&&(Array.isArray(N)?$.checked=!!N.find(ie=>ie===$.value):$.checked=N===$.value||!!N)}):_.refs.forEach($=>$.checked=$.value===N):dn(_.ref)?_.ref.value="":(_.ref.value=N,_.ref.type||y.state.next({name:d,values:ke(a)})))}(g.shouldDirty||g.shouldTouch)&&O(d,N,g.shouldTouch,g.shouldDirty,!0),g.shouldValidate&&_e(d)},ae=(d,m,g)=>{for(const M in m){if(!m.hasOwnProperty(M))return;const N=m[M],_=d+"."+M,$=S(n,_);(i.array.has(d)||xe(N)||$&&!$._f)&&!ut(N)?ae(_,N,g):J(_,N,g)}},K=(d,m,g={})=>{const M=S(n,d),N=i.array.has(d),_=ke(m);ce(a,d,_),N?(y.array.next({name:d,values:ke(a)}),(f.isDirty||f.dirtyFields||p.isDirty||p.dirtyFields)&&g.shouldDirty&&y.state.next({name:d,dirtyFields:vt(s,a),isDirty:de(d,_)})):M&&!M._f&&!je(_)?ae(d,_,g):J(d,_,g),Gn(d,i)&&y.state.next({...r,name:d}),y.state.next({name:o.mount?d:void 0,values:ke(a)})},U=async d=>{o.mount=!0;const m=d.target;let g=m.name,M=!0;const N=S(n,g),_=ue=>{M=Number.isNaN(ue)||ut(ue)&&isNaN(ue.getTime())||$e(ue,S(a,g,ue))},$=qn(e.mode),ie=qn(e.reValidateMode);if(N){let ue,Re;const Qt=m.type?Bn(N._f):ha(d),Qe=d.type===nr.BLUR||d.type===nr.FOCUS_OUT,fo=!yu(N._f)&&!e.resolver&&!S(r.errors,g)&&!N._f.deps||bu(Qe,S(r.touchedFields,g),r.isSubmitted,ie,$),Cr=Gn(g,i,Qe);ce(a,g,Qt),Qe?(!m||!m.readOnly)&&(N._f.onBlur&&N._f.onBlur(d),u&&u(0)):N._f.onChange&&N._f.onChange(d);const Nr=O(g,Qt,Qe),ho=!Se(Nr)||Cr;if(!Qe&&y.state.next({name:g,type:d.type,values:ke(a)}),fo)return(f.isValid||p.isValid)&&(e.mode==="onBlur"?Qe&&D():Qe||D()),ho&&y.state.next({name:g,...Cr?{}:Nr});if(!Qe&&Cr&&y.state.next({...r}),e.resolver){const{errors:_n}=await Y([g]);if(_(Qt),M){const mo=Qn(r.errors,n,g),wn=Qn(_n,n,mo.name||g);ue=wn.error,g=wn.name,Re=Se(_n)}}else E([g],!0),ue=(await Kn(N,i.disabled,a,x,e.shouldUseNativeValidation))[g],E([g]),_(Qt),M&&(ue?Re=!1:(f.isValid||p.isValid)&&(Re=await se(n,!0)));M&&(N._f.deps&&(!Array.isArray(N._f.deps)||N._f.deps.length>0)&&_e(N._f.deps),Z(g,Re,ue,Nr))}},fe=(d,m)=>{if(S(r.errors,m)&&d.focus)return d.focus(),1},_e=async(d,m={})=>{let g,M;const N=It(d);if(e.resolver){const _=await te(he(d)?d:N);g=Se(_),M=d?!N.some($=>S(_,$)):g}else d?(M=(await Promise.all(N.map(async _=>{const $=S(n,_);return await se($&&$._f?{[_]:$}:$)}))).every(Boolean),!(!M&&!r.isValid)&&D()):M=g=await se(n);return y.state.next({...!Me(d)||(f.isValid||p.isValid)&&g!==r.isValid?{}:{name:d},...e.resolver||!d?{isValid:g}:{},errors:r.errors}),m.shouldFocus&&!M&&Ft(n,fe,d?N:i.mount),M},Oe=(d,m)=>{let g={...o.mount?a:s};return m&&(g=ga(m.dirtyFields?r.dirtyFields:r.touchedFields,g)),he(d)?g:Me(d)?S(g,d):d.map(M=>S(g,M))},Ge=(d,m)=>({invalid:!!S((m||r).errors,d),isDirty:!!S((m||r).dirtyFields,d),error:S((m||r).errors,d),isValidating:!!S(r.validatingFields,d),isTouched:!!S((m||r).touchedFields,d)}),v=d=>{d&&It(d).forEach(m=>ye(r.errors,m)),y.state.next({errors:d?r.errors:{}})},W=(d,m,g)=>{const M=(S(n,d,{_f:{}})._f||{}).ref,N=S(r.errors,d)||{},{ref:_,message:$,type:ie,...ue}=N;ce(r.errors,d,{...ue,...m,ref:M}),y.state.next({name:d,errors:r.errors,isValid:!1}),g&&g.shouldFocus&&M&&M.focus&&M.focus()},G=(d,m)=>Le(d)?y.state.subscribe({next:g=>"values"in g&&d(z(void 0,m),g)}):z(d,m,!0),F=d=>y.state.subscribe({next:m=>{xu(d.name,m.name,d.exact)&&vu(m,d.formState||f,uo,d.reRenderRoot)&&d.callback({values:{...a},...r,...m,defaultValues:s})}}).unsubscribe,X=d=>(o.mount=!0,p={...p,...d.formState},F({...d,formState:p})),oe=(d,m={})=>{for(const g of d?It(d):i.mount)i.mount.delete(g),i.array.delete(g),m.keepValue||(ye(n,g),ye(a,g)),!m.keepError&&ye(r.errors,g),!m.keepDirty&&ye(r.dirtyFields,g),!m.keepTouched&&ye(r.touchedFields,g),!m.keepIsValidating&&ye(r.validatingFields,g),!e.shouldUnregister&&!m.keepDefaultValue&&ye(s,g);y.state.next({values:ke(a)}),y.state.next({...r,...m.keepDirty?{isDirty:de()}:{}}),!m.keepIsValid&&D()},we=({disabled:d,name:m})=>{(Te(d)&&o.mount||d||i.disabled.has(m))&&(d?i.disabled.add(m):i.disabled.delete(m))},k=(d,m={})=>{let g=S(n,d);const M=Te(m.disabled)||Te(e.disabled);return ce(n,d,{...g||{},_f:{...g&&g._f?g._f:{ref:{name:d}},name:d,mount:!0,...m}}),i.mount.add(d),g?we({disabled:Te(m.disabled)?m.disabled:e.disabled,name:d}):C(d,!0,m.value),{...M?{disabled:m.disabled||e.disabled}:{},...e.progressive?{required:!!m.required,min:Ot(m.min),max:Ot(m.max),minLength:Ot(m.minLength),maxLength:Ot(m.maxLength),pattern:Ot(m.pattern)}:{},name:d,onChange:U,onBlur:U,ref:N=>{if(N){k(d,m),g=S(n,d);const _=he(N.value)&&N.querySelectorAll&&N.querySelectorAll("input,select,textarea")[0]||N,$=du(_),ie=g._f.refs||[];if($?ie.find(ue=>ue===_):_===g._f.ref)return;ce(n,d,{_f:{...g._f,...$?{refs:[...ie.filter(Dr),_,...Array.isArray(S(s,d))?[{}]:[]],ref:{type:_.type,name:d}}:{ref:_}}}),C(d,!1,void 0,_)}else g=S(n,d,{}),g._f&&(g._f.mount=!1),(e.shouldUnregister||m.shouldUnregister)&&!(ma(i.array,d)&&o.action)&&i.unMount.add(d)}}},re=()=>e.shouldFocusError&&Ft(n,fe,i.mount),ge=d=>{Te(d)&&(y.state.next({disabled:d}),Ft(n,(m,g)=>{const M=S(n,g);M&&(m.disabled=M._f.disabled||d,Array.isArray(M._f.refs)&&M._f.refs.forEach(N=>{N.disabled=M._f.disabled||d}))},0,!1))},We=(d,m)=>async g=>{let M;g&&(g.preventDefault&&g.preventDefault(),g.persist&&g.persist());let N=ke(a);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:_,values:$}=await Y();r.errors=_,N=ke($)}else await se(n);if(i.disabled.size)for(const _ of i.disabled)ye(N,_);if(ye(r.errors,"root"),Se(r.errors)){y.state.next({errors:{}});try{await d(N,g)}catch(_){M=_}}else m&&await m({...r.errors},g),re(),setTimeout(re);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Se(r.errors)&&!M,submitCount:r.submitCount+1,errors:r.errors}),M)throw M},Ee=(d,m={})=>{S(n,d)&&(he(m.defaultValue)?K(d,ke(S(s,d))):(K(d,m.defaultValue),ce(s,d,ke(m.defaultValue))),m.keepTouched||ye(r.touchedFields,d),m.keepDirty||(ye(r.dirtyFields,d),r.isDirty=m.defaultValue?de(d,ke(S(s,d))):de()),m.keepError||(ye(r.errors,d),f.isValid&&D()),y.state.next({...r}))},Ye=(d,m={})=>{const g=d?ke(d):s,M=ke(g),N=Se(d),_=N?s:M;if(m.keepDefaultValues||(s=g),!m.keepValues){if(m.keepDirtyValues){const $=new Set([...i.mount,...Object.keys(vt(s,a))]);for(const ie of Array.from($))S(r.dirtyFields,ie)?ce(_,ie,S(a,ie)):K(ie,S(_,ie))}else{if(sn&&he(d))for(const $ of i.mount){const ie=S(n,$);if(ie&&ie._f){const ue=Array.isArray(ie._f.refs)?ie._f.refs[0]:ie._f.ref;if(sr(ue)){const Re=ue.closest("form");if(Re){Re.reset();break}}}}if(m.keepFieldsRef)for(const $ of i.mount)K($,S(_,$));else n={}}a=e.shouldUnregister?m.keepDefaultValues?ke(s):{}:ke(_),y.array.next({values:{..._}}),y.state.next({values:{..._}})}i={mount:m.keepDirtyValues?i.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!m.keepIsValid||!!m.keepDirtyValues||!e.shouldUnregister&&!Se(_),o.watch=!!e.shouldUnregister,y.state.next({submitCount:m.keepSubmitCount?r.submitCount:0,isDirty:N?!1:m.keepDirty?r.isDirty:!!(m.keepDefaultValues&&!$e(d,s)),isSubmitted:m.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:N?{}:m.keepDirtyValues?m.keepDefaultValues&&a?vt(s,a):r.dirtyFields:m.keepDefaultValues&&d?vt(s,d):m.keepDirty?r.dirtyFields:{},touchedFields:m.keepTouched?r.touchedFields:{},errors:m.keepErrors?r.errors:{},isSubmitSuccessful:m.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},xn=(d,m)=>Ye(Le(d)?d(a):d,m),lo=(d,m={})=>{const g=S(n,d),M=g&&g._f;if(M){const N=M.refs?M.refs[0]:M.ref;N.focus&&(N.focus(),m.shouldSelect&&Le(N.select)&&N.select())}},uo=d=>{r={...r,...d}},bn={control:{register:k,unregister:oe,getFieldState:Ge,handleSubmit:We,setError:W,_subscribe:F,_runSchema:Y,_focusError:re,_getWatch:z,_getDirty:de,_setValid:D,_setFieldArray:j,_setDisabledField:we,_setErrors:P,_getFieldArray:V,_reset:Ye,_resetDefaultValues:()=>Le(e.defaultValues)&&e.defaultValues().then(d=>{xn(d,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:Q,_disableForm:ge,_subjects:y,_proxyFormState:f,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(d){o=d},get _defaultValues(){return s},get _names(){return i},set _names(d){i=d},get _formState(){return r},get _options(){return e},set _options(d){e={...e,...d}}},subscribe:X,trigger:_e,register:k,handleSubmit:We,watch:G,setValue:K,getValues:Oe,reset:xn,resetField:Ee,clearErrors:v,unregister:oe,setError:W,setFocus:lo,getFieldState:Ge};return{...bn,formControl:bn}}function Nu(t={}){const e=L.useRef(void 0),r=L.useRef(void 0),[n,s]=L.useState({isDirty:!1,isValidating:!1,isLoading:Le(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Le(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Le(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...i}=Cu(t);e.current={...i,formState:n}}const a=e.current.control;return a._options=t,ln(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(i=>({...i,isReady:!0})),a._formState.isReady=!0,o},[a]),L.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),L.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),L.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),L.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),L.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),L.useEffect(()=>{var o;t.values&&!$e(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),r.current=t.values,s(i=>({...i}))):a._resetDefaultValues()},[a,t.values]),L.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=pa(n,a),e.current}var Su=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ju=Su.reduce((t,e)=>{const r=_o(`Primitive.${e}`),n=h.forwardRef((s,a)=>{const{asChild:o,...i}=s,u=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(u,{...i,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Eu="Label",wa=h.forwardRef((t,e)=>c.jsx(ju.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));wa.displayName=Eu;var ka=wa;const Tu=en("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ca=h.forwardRef(({className:t,...e},r)=>c.jsx(ka,{ref:r,className:me(Tu(),t),...e}));Ca.displayName=ka.displayName;const Jn=ou,Na=h.createContext({}),pt=({...t})=>c.jsx(Na.Provider,{value:{name:t.name},children:c.jsx(uu,{...t})}),br=()=>{const t=h.useContext(Na),e=h.useContext(Sa),{getFieldState:r,formState:n}=xr(),s=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},Sa=h.createContext({}),Fe=h.forwardRef(({className:t,...e},r)=>{const n=h.useId();return c.jsx(Sa.Provider,{value:{id:n},children:c.jsx("div",{ref:r,className:me("space-y-2",t),...e})})});Fe.displayName="FormItem";const Zr=h.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:s}=br();return c.jsx(Ca,{ref:r,className:me(n&&"text-destructive",t),htmlFor:s,...e})});Zr.displayName="FormLabel";const Ke=h.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:a}=br();return c.jsx(wo,{ref:e,id:n,"aria-describedby":r?`${s} ${a}`:`${s}`,"aria-invalid":!!r,...t})});Ke.displayName="FormControl";const Mu=h.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=br();return c.jsx("p",{ref:r,id:n,className:me("text-sm text-muted-foreground",t),...e})});Mu.displayName="FormDescription";const lt=h.forwardRef(({className:t,children:e,...r},n)=>{const{error:s,formMessageId:a}=br(),o=s?String(s?.message):e;return o?c.jsx("p",{ref:n,id:a,className:me("text-sm font-medium text-destructive",t),...r,children:o}):null});lt.displayName="FormMessage";const zr=h.forwardRef(({value:t,onChange:e,onInputChange:r,suggestions:n,placeholder:s="",className:a="",...o},i)=>{const[u,l]=h.useState(!1),[f,p]=h.useState(!1),y=h.useRef(null),x=f&&!u&&n.length>0&&t.trim().length>0&&!(n.length===1&&n[0]===t.trim()),[R,D]=h.useState(t||"");h.useEffect(()=>{D(t||"")},[t]),h.useEffect(()=>{const j=w=>{y.current&&!y.current.contains(w.target)&&p(!1)};return document.addEventListener("mousedown",j),document.addEventListener("focusin",j),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("focusin",j)}},[]);const E=j=>{const w=j.target.value;D(w),e(w),l(!1),p(!0),r&&r(w)};return c.jsxs("div",{className:"relative w-full",ref:y,children:[c.jsx(Ke,{children:c.jsx(it,{ref:i,type:"text",placeholder:s,value:R,onChange:E,className:a,...o})}),x&&c.jsx("div",{className:"absolute z-50 w-full mt-1 bg-popover rounded-md border shadow-md",children:c.jsx(eu,{children:c.jsx(tu,{children:c.jsx(ru,{children:n.map(j=>c.jsx(nu,{value:j,onSelect:w=>{e(w),D(w),l(!0),p(!1),r&&r(w)},children:j},j))})})})})]})});zr.displayName="ComboboxInput";function hn(){return{getCategoryIcon:e=>{switch(e){case"utensils":return al;case"car-taxi-front":return Nc;case"house":return zc;case"shopping-cart":return tl;case"plane":return Gc;case"drama":return Oc;case"graduation-cap":return Fc;case"heart-pulse":return Uc;case"receipt-text":return Xc;case"gift":return Ac;case"hand-coins":return $c;default:return Tc}}}}function Du(t,e){const[r,n]=h.useState(t);return h.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}function ja(t,e){let r=t-1,n=e;r<1&&(r=12,n=e-1);let s=t+1,a=e;return s>12&&(s=1,a=e+1),{prevMonth:r,prevYear:n,nextMonth:s,nextYear:a}}function Pu(t,e){const{prevMonth:r,prevYear:n}=ja(t,e);return{prevMonth:r,prevYear:n}}const es=(t,e,r)=>{if(t&&"reportValidity"in t){const n=S(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Wr=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?es(n.ref,r,t):n&&n.refs&&n.refs.forEach(s=>es(s,r,t))}},ts=(t,e)=>{e.shouldUseNativeValidation&&Wr(t,e);const r={};for(const n in t){const s=S(e.fields,n),a=Object.assign(t[n]||{},{ref:s&&s.ref});if(Ou(e.names||Object.keys(t),n)){const o=Object.assign({},S(r,n));ce(o,"root",a),ce(r,n,o)}else ce(r,n,a)}return r},Ou=(t,e)=>{const r=rs(e);return t.some(n=>rs(n).match(`^${r}\\.\\d+`))};function rs(t){return t.replace(/\]|\[/g,"")}function Ea(t,e,r){function n(i,u){var l;Object.defineProperty(i,"_zod",{value:i._zod??{},enumerable:!1}),(l=i._zod).traits??(l.traits=new Set),i._zod.traits.add(t),e(i,u);for(const f in o.prototype)f in i||Object.defineProperty(i,f,{value:o.prototype[f].bind(i)});i._zod.constr=o,i._zod.def=u}const s=r?.Parent??Object;class a extends s{}Object.defineProperty(a,"name",{value:t});function o(i){var u;const l=r?.Parent?new a:this;n(l,i),(u=l._zod).deferred??(u.deferred=[]);for(const f of l._zod.deferred)f();return l}return Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:i=>r?.Parent&&i instanceof r.Parent?!0:i?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}class Ru extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Au={};function Ta(t){return Au}function Iu(t,e){return typeof e=="bigint"?e.toString():e}const Ma=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function Jt(t){return typeof t=="string"?t:t?.message}function Da(t,e,r){const n={...t,path:t.path??[]};if(!t.message){const s=Jt(t.inst?._zod.def?.error?.(t))??Jt(e?.error?.(t))??Jt(r.customError?.(t))??Jt(r.localeError?.(t))??"Invalid input";n.message=s}return delete n.inst,delete n.continue,e?.reportInput||delete n.input,n}const Pa=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,Iu,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Fu=Ea("$ZodError",Pa),Oa=Ea("$ZodError",Pa,{Parent:Error}),Vu=t=>(e,r,n,s)=>{const a=n?Object.assign(n,{async:!1}):{async:!1},o=e._zod.run({value:r,issues:[]},a);if(o instanceof Promise)throw new Ru;if(o.issues.length){const i=new(s?.Err??t)(o.issues.map(u=>Da(u,a,Ta())));throw Ma(i,s?.callee),i}return o.value},$u=Vu(Oa),Lu=t=>async(e,r,n,s)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let o=e._zod.run({value:r,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){const i=new(s?.Err??t)(o.issues.map(u=>Da(u,a,Ta())));throw Ma(i,s?.callee),i}return o.value},Uu=Lu(Oa);function ns(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}function Zu(t,e){for(var r={};t.length;){var n=t[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var i=n.unionErrors[0].errors[0];r[o]={message:i.message,type:i.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(p){return t.push(p)})}),e){var u=r[o].types,l=u&&u[n.code];r[o]=un(o,e,r,s,l?[].concat(l,n.message):n.message)}t.shift()}return r}function zu(t,e){for(var r={};t.length;){var n=t[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if(n.code==="invalid_union"&&n.errors.length>0){var i=n.errors[0][0];r[o]={message:i.message,type:i.code}}else r[o]={message:a,type:s};if(n.code==="invalid_union"&&n.errors.forEach(function(f){return f.forEach(function(p){return t.push(p)})}),e){var u=r[o].types,l=u&&u[n.code];r[o]=un(o,e,r,s,l?[].concat(l,n.message):n.message)}t.shift()}return r}function Wu(t,e,r){if(r===void 0&&(r={}),(function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def})(t))return function(n,s,a){try{return Promise.resolve(ns(function(){return Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(o){return a.shouldUseNativeValidation&&Wr({},a),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if((function(i){return Array.isArray(i?.issues)})(o))return{values:{},errors:ts(Zu(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}};if((function(n){return"_zod"in n&&typeof n._zod=="object"})(t))return function(n,s,a){try{return Promise.resolve(ns(function(){return Promise.resolve((r.mode==="sync"?$u:Uu)(t,n,e)).then(function(o){return a.shouldUseNativeValidation&&Wr({},a),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if((function(i){return i instanceof Fu})(o))return{values:{},errors:ts(zu(o.issues,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}var ne;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(i=>typeof s[s[i]]!="number"),o={};for(const i of a)o[i]=s[i];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},t.find=(s,a)=>{for(const o of s)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(ne||(ne={}));var ss;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(ss||(ss={}));const A=ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Je=t=>{switch(typeof t){case"undefined":return A.undefined;case"string":return A.string;case"number":return Number.isNaN(t)?A.nan:A.number;case"boolean":return A.boolean;case"function":return A.function;case"bigint":return A.bigint;case"symbol":return A.symbol;case"object":return Array.isArray(t)?A.array:t===null?A.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?A.promise:typeof Map<"u"&&t instanceof Map?A.map:typeof Set<"u"&&t instanceof Set?A.set:typeof Date<"u"&&t instanceof Date?A.date:A.object;default:return A.unknown}},b=ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class He extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let i=n,u=0;for(;u<o.path.length;){const l=o.path[u];u===o.path.length-1?(i[l]=i[l]||{_errors:[]},i[l]._errors.push(r(o))):i[l]=i[l]||{_errors:[]},i=i[l],u++}}};return s(this),n}static assert(e){if(!(e instanceof He))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}He.create=t=>new He(t);const Yr=(t,e)=>{let r;switch(t.code){case b.invalid_type:t.received===A.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case b.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ne.jsonStringifyReplacer)}`;break;case b.unrecognized_keys:r=`Unrecognized key(s) in object: ${ne.joinValues(t.keys,", ")}`;break;case b.invalid_union:r="Invalid input";break;case b.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ne.joinValues(t.options)}`;break;case b.invalid_enum_value:r=`Invalid enum value. Expected ${ne.joinValues(t.options)}, received '${t.received}'`;break;case b.invalid_arguments:r="Invalid function arguments";break;case b.invalid_return_type:r="Invalid function return type";break;case b.invalid_date:r="Invalid date";break;case b.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ne.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case b.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case b.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case b.custom:r="Invalid input";break;case b.invalid_intersection_types:r="Intersection results could not be merged";break;case b.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case b.not_finite:r="Number must be finite";break;default:r=e.defaultError,ne.assertNever(t)}return{message:r}};let Yu=Yr;function Bu(){return Yu}const qu=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let i="";const u=n.filter(l=>!!l).slice().reverse();for(const l of u)i=l(o,{data:e,defaultError:i}).message;return{...s,path:a,message:i}};function T(t,e){const r=Bu(),n=qu({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Yr?void 0:Yr].filter(s=>!!s)});t.common.issues.push(n)}class Pe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return B;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return Pe.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return B;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const B=Object.freeze({status:"aborted"}),At=t=>({status:"dirty",value:t}),Ie=t=>({status:"valid",value:t}),as=t=>t.status==="aborted",os=t=>t.status==="dirty",kt=t=>t.status==="valid",or=t=>typeof Promise<"u"&&t instanceof Promise;var I;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(I||(I={}));class nt{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const is=(t,e)=>{if(kt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new He(t.common.issues);return this._error=r,this._error}}};function H(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,i)=>{const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??i.defaultError}:typeof i.data>"u"?{message:u??n??i.defaultError}:o.code!=="invalid_type"?{message:i.defaultError}:{message:u??r??i.defaultError}},description:s}}class ee{get description(){return this._def.description}_getType(e){return Je(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Je(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Pe,ctx:{common:e.parent.common,data:e.data,parsedType:Je(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(or(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Je(e)},s=this._parseSync({data:e,path:n.path,parent:n});return is(n,s)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Je(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return kt(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>kt(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Je(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(or(s)?s:Promise.resolve(s));return is(n,a)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=e(s),i=()=>a.addIssue({code:b.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(i(),!1)):o?!0:(i(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Nt({schema:this,typeName:q.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return tt.create(this,this._def)}nullable(){return St.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ze.create(this)}promise(){return ur.create(this,this._def)}or(e){return cr.create([this,e],this._def)}and(e){return lr.create(this,e,this._def)}transform(e){return new Nt({...H(this._def),schema:this,typeName:q.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new qr({...H(this._def),innerType:this,defaultValue:r,typeName:q.ZodDefault})}brand(){return new gd({typeName:q.ZodBranded,type:this,...H(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Hr({...H(this._def),innerType:this,catchValue:r,typeName:q.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return mn.create(this,e)}readonly(){return Gr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Hu=/^c[^\s-]{8,}$/i,Gu=/^[0-9a-z]+$/,Qu=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Xu=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ku=/^[a-z0-9_-]{21}$/i,Ju=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ed=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,td=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rd="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pr;const nd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ad=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,od=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,id=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cd=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ra="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ld=new RegExp(`^${Ra}$`);function Aa(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function ud(t){return new RegExp(`^${Aa(t)}$`)}function dd(t){let e=`${Ra}T${Aa(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function fd(t,e){return!!((e==="v4"||!e)&&nd.test(t)||(e==="v6"||!e)&&ad.test(t))}function hd(t,e){if(!Ju.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function md(t,e){return!!((e==="v4"||!e)&&sd.test(t)||(e==="v6"||!e)&&od.test(t))}class et extends ee{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==A.string){const a=this._getOrReturnCtx(e);return T(a,{code:b.invalid_type,expected:A.string,received:a.parsedType}),B}const n=new Pe;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),T(s,{code:b.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),T(s,{code:b.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,i=e.data.length<a.value;(o||i)&&(s=this._getOrReturnCtx(e,s),o?T(s,{code:b.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&T(s,{code:b.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")td.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"email",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Pr||(Pr=new RegExp(rd,"u")),Pr.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"emoji",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Xu.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"uuid",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")Ku.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"nanoid",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Hu.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"cuid",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Gu.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"cuid2",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Qu.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"ulid",code:b.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),T(s,{validation:"url",code:b.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"regex",code:b.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),T(s,{code:b.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),T(s,{code:b.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),T(s,{code:b.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?dd(a).test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{code:b.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?ld.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{code:b.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?ud(a).test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{code:b.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?ed.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"duration",code:b.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?fd(e.data,a.version)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"ip",code:b.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?hd(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"jwt",code:b.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?md(e.data,a.version)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"cidr",code:b.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?id.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"base64",code:b.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?cd.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"base64url",code:b.invalid_string,message:a.message}),n.dirty()):ne.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:b.invalid_string,...I.errToObj(n)})}_addCheck(e){return new et({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...I.errToObj(e)})}url(e){return this._addCheck({kind:"url",...I.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...I.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...I.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...I.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...I.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...I.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...I.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...I.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...I.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...I.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...I.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...I.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...I.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...I.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...I.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...I.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...I.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...I.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...I.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...I.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...I.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...I.errToObj(r)})}nonempty(e){return this.min(1,I.errToObj(e))}trim(){return new et({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new et({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new et({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}et.create=t=>new et({checks:[],typeName:q.ZodString,coerce:t?.coerce??!1,...H(t)});function pd(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return a%o/10**s}class Lt extends ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==A.number){const a=this._getOrReturnCtx(e);return T(a,{code:b.invalid_type,expected:A.number,received:a.parsedType}),B}let n;const s=new Pe;for(const a of this._def.checks)a.kind==="int"?ne.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),T(n,{code:b.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),T(n,{code:b.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),T(n,{code:b.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?pd(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),T(n,{code:b.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),T(n,{code:b.not_finite,message:a.message}),s.dirty()):ne.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,I.toString(r))}gt(e,r){return this.setLimit("min",e,!1,I.toString(r))}lte(e,r){return this.setLimit("max",e,!0,I.toString(r))}lt(e,r){return this.setLimit("max",e,!1,I.toString(r))}setLimit(e,r,n,s){return new Lt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:I.toString(s)}]})}_addCheck(e){return new Lt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:I.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:I.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:I.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:I.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:I.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:I.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:I.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:I.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:I.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ne.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Lt.create=t=>new Lt({checks:[],typeName:q.ZodNumber,coerce:t?.coerce||!1,...H(t)});class Ut extends ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==A.bigint)return this._getInvalidInput(e);let n;const s=new Pe;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),T(n,{code:b.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),T(n,{code:b.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),T(n,{code:b.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):ne.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return T(r,{code:b.invalid_type,expected:A.bigint,received:r.parsedType}),B}gte(e,r){return this.setLimit("min",e,!0,I.toString(r))}gt(e,r){return this.setLimit("min",e,!1,I.toString(r))}lte(e,r){return this.setLimit("max",e,!0,I.toString(r))}lt(e,r){return this.setLimit("max",e,!1,I.toString(r))}setLimit(e,r,n,s){return new Ut({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:I.toString(s)}]})}_addCheck(e){return new Ut({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:I.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:I.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:I.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:I.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:I.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ut.create=t=>new Ut({checks:[],typeName:q.ZodBigInt,coerce:t?.coerce??!1,...H(t)});class cs extends ee{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==A.boolean){const n=this._getOrReturnCtx(e);return T(n,{code:b.invalid_type,expected:A.boolean,received:n.parsedType}),B}return Ie(e.data)}}cs.create=t=>new cs({typeName:q.ZodBoolean,coerce:t?.coerce||!1,...H(t)});class ir extends ee{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==A.date){const a=this._getOrReturnCtx(e);return T(a,{code:b.invalid_type,expected:A.date,received:a.parsedType}),B}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return T(a,{code:b.invalid_date}),B}const n=new Pe;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),T(s,{code:b.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),T(s,{code:b.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):ne.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ir({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:I.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:I.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}ir.create=t=>new ir({checks:[],coerce:t?.coerce||!1,typeName:q.ZodDate,...H(t)});class ls extends ee{_parse(e){if(this._getType(e)!==A.symbol){const n=this._getOrReturnCtx(e);return T(n,{code:b.invalid_type,expected:A.symbol,received:n.parsedType}),B}return Ie(e.data)}}ls.create=t=>new ls({typeName:q.ZodSymbol,...H(t)});class us extends ee{_parse(e){if(this._getType(e)!==A.undefined){const n=this._getOrReturnCtx(e);return T(n,{code:b.invalid_type,expected:A.undefined,received:n.parsedType}),B}return Ie(e.data)}}us.create=t=>new us({typeName:q.ZodUndefined,...H(t)});class ds extends ee{_parse(e){if(this._getType(e)!==A.null){const n=this._getOrReturnCtx(e);return T(n,{code:b.invalid_type,expected:A.null,received:n.parsedType}),B}return Ie(e.data)}}ds.create=t=>new ds({typeName:q.ZodNull,...H(t)});class fs extends ee{constructor(){super(...arguments),this._any=!0}_parse(e){return Ie(e.data)}}fs.create=t=>new fs({typeName:q.ZodAny,...H(t)});class hs extends ee{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ie(e.data)}}hs.create=t=>new hs({typeName:q.ZodUnknown,...H(t)});class st extends ee{_parse(e){const r=this._getOrReturnCtx(e);return T(r,{code:b.invalid_type,expected:A.never,received:r.parsedType}),B}}st.create=t=>new st({typeName:q.ZodNever,...H(t)});class ms extends ee{_parse(e){if(this._getType(e)!==A.undefined){const n=this._getOrReturnCtx(e);return T(n,{code:b.invalid_type,expected:A.void,received:n.parsedType}),B}return Ie(e.data)}}ms.create=t=>new ms({typeName:q.ZodVoid,...H(t)});class Ze extends ee{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==A.array)return T(r,{code:b.invalid_type,expected:A.array,received:r.parsedType}),B;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,i=r.data.length<s.exactLength.value;(o||i)&&(T(r,{code:o?b.too_big:b.too_small,minimum:i?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(T(r,{code:b.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(T(r,{code:b.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,i)=>s.type._parseAsync(new nt(r,o,r.path,i)))).then(o=>Pe.mergeArray(n,o));const a=[...r.data].map((o,i)=>s.type._parseSync(new nt(r,o,r.path,i)));return Pe.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Ze({...this._def,minLength:{value:e,message:I.toString(r)}})}max(e,r){return new Ze({...this._def,maxLength:{value:e,message:I.toString(r)}})}length(e,r){return new Ze({...this._def,exactLength:{value:e,message:I.toString(r)}})}nonempty(e){return this.min(1,e)}}Ze.create=(t,e)=>new Ze({type:t,minLength:null,maxLength:null,exactLength:null,typeName:q.ZodArray,...H(e)});function xt(t){if(t instanceof ve){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=tt.create(xt(n))}return new ve({...t._def,shape:()=>e})}else return t instanceof Ze?new Ze({...t._def,type:xt(t.element)}):t instanceof tt?tt.create(xt(t.unwrap())):t instanceof St?St.create(xt(t.unwrap())):t instanceof ft?ft.create(t.items.map(e=>xt(e))):t}class ve extends ee{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ne.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==A.object){const l=this._getOrReturnCtx(e);return T(l,{code:b.invalid_type,expected:A.object,received:l.parsedType}),B}const{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof st&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||i.push(l);const u=[];for(const l of o){const f=a[l],p=s.data[l];u.push({key:{status:"valid",value:l},value:f._parse(new nt(s,p,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof st){const l=this._def.unknownKeys;if(l==="passthrough")for(const f of i)u.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(l==="strict")i.length>0&&(T(s,{code:b.unrecognized_keys,keys:i}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const f of i){const p=s.data[f];u.push({key:{status:"valid",value:f},value:l._parse(new nt(s,p,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const f of u){const p=await f.key,y=await f.value;l.push({key:p,value:y,alwaysSet:f.alwaysSet})}return l}).then(l=>Pe.mergeObjectSync(n,l)):Pe.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return I.errToObj,new ve({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const s=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:I.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new ve({...this._def,unknownKeys:"strip"})}passthrough(){return new ve({...this._def,unknownKeys:"passthrough"})}extend(e){return new ve({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ve({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:q.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new ve({...this._def,catchall:e})}pick(e){const r={};for(const n of ne.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new ve({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ne.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new ve({...this._def,shape:()=>r})}deepPartial(){return xt(this)}partial(e){const r={};for(const n of ne.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new ve({...this._def,shape:()=>r})}required(e){const r={};for(const n of ne.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof tt;)a=a._def.innerType;r[n]=a}return new ve({...this._def,shape:()=>r})}keyof(){return Ia(ne.objectKeys(this.shape))}}ve.create=(t,e)=>new ve({shape:()=>t,unknownKeys:"strip",catchall:st.create(),typeName:q.ZodObject,...H(e)});ve.strictCreate=(t,e)=>new ve({shape:()=>t,unknownKeys:"strict",catchall:st.create(),typeName:q.ZodObject,...H(e)});ve.lazycreate=(t,e)=>new ve({shape:t,unknownKeys:"strip",catchall:st.create(),typeName:q.ZodObject,...H(e)});class cr extends ee{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(a){for(const i of a)if(i.result.status==="valid")return i.result;for(const i of a)if(i.result.status==="dirty")return r.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(i=>new He(i.ctx.common.issues));return T(r,{code:b.invalid_union,unionErrors:o}),B}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const u of n){const l={...r,common:{...r.common,issues:[]},parent:null},f=u._parseSync({data:r.data,path:r.path,parent:l});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const i=o.map(u=>new He(u));return T(r,{code:b.invalid_union,unionErrors:i}),B}}get options(){return this._def.options}}cr.create=(t,e)=>new cr({options:t,typeName:q.ZodUnion,...H(e)});function Br(t,e){const r=Je(t),n=Je(e);if(t===e)return{valid:!0,data:t};if(r===A.object&&n===A.object){const s=ne.objectKeys(e),a=ne.objectKeys(t).filter(i=>s.indexOf(i)!==-1),o={...t,...e};for(const i of a){const u=Br(t[i],e[i]);if(!u.valid)return{valid:!1};o[i]=u.data}return{valid:!0,data:o}}else if(r===A.array&&n===A.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const o=t[a],i=e[a],u=Br(o,i);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return r===A.date&&n===A.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class lr extends ee{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(a,o)=>{if(as(a)||as(o))return B;const i=Br(a.value,o.value);return i.valid?((os(a)||os(o))&&r.dirty(),{status:r.value,value:i.data}):(T(n,{code:b.invalid_intersection_types}),B)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}lr.create=(t,e,r)=>new lr({left:t,right:e,typeName:q.ZodIntersection,...H(r)});class ft extends ee{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==A.array)return T(n,{code:b.invalid_type,expected:A.array,received:n.parsedType}),B;if(n.data.length<this._def.items.length)return T(n,{code:b.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),B;!this._def.rest&&n.data.length>this._def.items.length&&(T(n,{code:b.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,i)=>{const u=this._def.items[i]||this._def.rest;return u?u._parse(new nt(n,o,n.path,i)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Pe.mergeArray(r,o)):Pe.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new ft({...this._def,rest:e})}}ft.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ft({items:t,typeName:q.ZodTuple,rest:null,...H(e)})};class ps extends ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==A.map)return T(n,{code:b.invalid_type,expected:A.map,received:n.parsedType}),B;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([i,u],l)=>({key:s._parse(new nt(n,i,n.path,[l,"key"])),value:a._parse(new nt(n,u,n.path,[l,"value"]))}));if(n.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const u of o){const l=await u.key,f=await u.value;if(l.status==="aborted"||f.status==="aborted")return B;(l.status==="dirty"||f.status==="dirty")&&r.dirty(),i.set(l.value,f.value)}return{status:r.value,value:i}})}else{const i=new Map;for(const u of o){const l=u.key,f=u.value;if(l.status==="aborted"||f.status==="aborted")return B;(l.status==="dirty"||f.status==="dirty")&&r.dirty(),i.set(l.value,f.value)}return{status:r.value,value:i}}}}ps.create=(t,e,r)=>new ps({valueType:e,keyType:t,typeName:q.ZodMap,...H(r)});class Zt extends ee{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==A.set)return T(n,{code:b.invalid_type,expected:A.set,received:n.parsedType}),B;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(T(n,{code:b.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(T(n,{code:b.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(u){const l=new Set;for(const f of u){if(f.status==="aborted")return B;f.status==="dirty"&&r.dirty(),l.add(f.value)}return{status:r.value,value:l}}const i=[...n.data.values()].map((u,l)=>a._parse(new nt(n,u,n.path,l)));return n.common.async?Promise.all(i).then(u=>o(u)):o(i)}min(e,r){return new Zt({...this._def,minSize:{value:e,message:I.toString(r)}})}max(e,r){return new Zt({...this._def,maxSize:{value:e,message:I.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Zt.create=(t,e)=>new Zt({valueType:t,minSize:null,maxSize:null,typeName:q.ZodSet,...H(e)});class gs extends ee{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}gs.create=(t,e)=>new gs({getter:t,typeName:q.ZodLazy,...H(e)});class ys extends ee{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return T(r,{received:r.data,code:b.invalid_literal,expected:this._def.value}),B}return{status:"valid",value:e.data}}get value(){return this._def.value}}ys.create=(t,e)=>new ys({value:t,typeName:q.ZodLiteral,...H(e)});function Ia(t,e){return new Ct({values:t,typeName:q.ZodEnum,...H(e)})}class Ct extends ee{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return T(r,{expected:ne.joinValues(n),received:r.parsedType,code:b.invalid_type}),B}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return T(r,{received:r.data,code:b.invalid_enum_value,options:n}),B}return Ie(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Ct.create(e,{...this._def,...r})}exclude(e,r=this._def){return Ct.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Ct.create=Ia;class vs extends ee{_parse(e){const r=ne.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==A.string&&n.parsedType!==A.number){const s=ne.objectValues(r);return T(n,{expected:ne.joinValues(s),received:n.parsedType,code:b.invalid_type}),B}if(this._cache||(this._cache=new Set(ne.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ne.objectValues(r);return T(n,{received:n.data,code:b.invalid_enum_value,options:s}),B}return Ie(e.data)}get enum(){return this._def.values}}vs.create=(t,e)=>new vs({values:t,typeName:q.ZodNativeEnum,...H(e)});class ur extends ee{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==A.promise&&r.common.async===!1)return T(r,{code:b.invalid_type,expected:A.promise,received:r.parsedType}),B;const n=r.parsedType===A.promise?r.data:Promise.resolve(r.data);return Ie(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ur.create=(t,e)=>new ur({type:t,typeName:q.ZodPromise,...H(e)});class Nt extends ee{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:o=>{T(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async i=>{if(r.value==="aborted")return B;const u=await this._def.schema._parseAsync({data:i,path:n.path,parent:n});return u.status==="aborted"?B:u.status==="dirty"||r.value==="dirty"?At(u.value):u});{if(r.value==="aborted")return B;const i=this._def.schema._parseSync({data:o,path:n.path,parent:n});return i.status==="aborted"?B:i.status==="dirty"||r.value==="dirty"?At(i.value):i}}if(s.type==="refinement"){const o=i=>{const u=s.refinement(i,a);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?B:(i.status==="dirty"&&r.dirty(),o(i.value),{status:r.value,value:i.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>i.status==="aborted"?B:(i.status==="dirty"&&r.dirty(),o(i.value).then(()=>({status:r.value,value:i.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!kt(o))return B;const i=s.transform(o.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:i}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>kt(o)?Promise.resolve(s.transform(o.value,a)).then(i=>({status:r.value,value:i})):B);ne.assertNever(s)}}Nt.create=(t,e,r)=>new Nt({schema:t,typeName:q.ZodEffects,effect:e,...H(r)});Nt.createWithPreprocess=(t,e,r)=>new Nt({schema:e,effect:{type:"preprocess",transform:t},typeName:q.ZodEffects,...H(r)});class tt extends ee{_parse(e){return this._getType(e)===A.undefined?Ie(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tt.create=(t,e)=>new tt({innerType:t,typeName:q.ZodOptional,...H(e)});class St extends ee{_parse(e){return this._getType(e)===A.null?Ie(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}St.create=(t,e)=>new St({innerType:t,typeName:q.ZodNullable,...H(e)});class qr extends ee{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===A.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}qr.create=(t,e)=>new qr({innerType:t,typeName:q.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...H(e)});class Hr extends ee{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return or(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new He(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new He(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Hr.create=(t,e)=>new Hr({innerType:t,typeName:q.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...H(e)});class xs extends ee{_parse(e){if(this._getType(e)!==A.nan){const n=this._getOrReturnCtx(e);return T(n,{code:b.invalid_type,expected:A.nan,received:n.parsedType}),B}return{status:"valid",value:e.data}}}xs.create=t=>new xs({typeName:q.ZodNaN,...H(t)});class gd extends ee{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class mn extends ee{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?B:a.status==="dirty"?(r.dirty(),At(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?B:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new mn({in:e,out:r,typeName:q.ZodPipeline})}}class Gr extends ee{_parse(e){const r=this._def.innerType._parse(e),n=s=>(kt(s)&&(s.value=Object.freeze(s.value)),s);return or(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Gr.create=(t,e)=>new Gr({innerType:t,typeName:q.ZodReadonly,...H(e)});var q;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(q||(q={}));const Or=et.create;st.create;Ze.create;const yd=ve.create;cr.create;lr.create;ft.create;Ct.create;ur.create;tt.create;St.create;const vd=yd({categoryId:Or().min(1,"Category is required"),value:Or().min(1,"Value is required"),comment:Or().optional()});function pn({recordId:t,trigger:e,onSuccess:r,isIncome:n=!1}){const s=Ns({from:"/app/$year/$month"}),a=Number(s.month),o=Number(s.year),[i,u]=h.useState(!1),l=po(),{getCategoryIcon:f}=hn(),{prevMonth:p,prevYear:y}=Pu(a,o),x=!!t,[R,D]=h.useState(""),[E,j]=h.useState(""),[,w]=h.useState(!1),[,P]=h.useState(!1),{data:C,isLoading:O,isError:Z}=Do(),Y=C?.rate,{data:te}=js(),se=h.useMemo(()=>te?te.filter(k=>k.isExpense!==n):[],[te,n]),{data:Q,isLoading:de}=Po(t,x&&i),z=h.useCallback(()=>se&&se.length>0?se[0].id.toString():"",[se]),V=Nu({resolver:Wu(vd),defaultValues:{categoryId:"",value:"",comment:""}}),J=h.useCallback(k=>{if(!k||!Y)return"";const re=parseFloat(k);return isNaN(re)?"":(re/Y).toFixed(2)},[Y]),ae=h.useCallback(k=>{if(!k||!Y)return"";const re=parseFloat(k);return isNaN(re)?"":(re*Y).toFixed(2)},[Y]),K=k=>{w(!0),D(k),V.setValue("value",k);const re=J(k);j(re),w(!1)},U=k=>{P(!0),j(k);const re=ae(k);D(re),V.setValue("value",re),P(!1)};h.useEffect(()=>{if(x&&Q&&Y){const k=Q.value.toString();j(k);const re=ae(k);D(re),V.reset({categoryId:Q.categoryId.toString(),value:re,comment:Q.comment||""})}else if(!x&&se){const k=z();k&&V.setValue("categoryId",k)}},[se,V,x,Q,z,Y,ae]);const[fe,_e]=h.useState(""),Oe=Du(fe,200),{data:Ge=[]}=Oo(Oe),v=h.useCallback(k=>{_e(k)},[]);h.useEffect(()=>{Q&&Q.comment&&_e(Q.comment)},[Q]);const W=Ro(),G=Ao(),F=Io(),X=Fo({mutationFn:async k=>{let re;if(x&&Q)re=Q.dateUtc;else{const Ee=new Date,Ye=new Date(o,a-1);Ye.setDate(Ee.getDate()),Ye.setHours(Ee.getHours()),Ye.setMinutes(Ee.getMinutes()),Ye.setSeconds(Ee.getSeconds()),Ye.setMilliseconds(Ee.getMilliseconds()),re=Ye.toISOString()}const ge=parseFloat(E);if(isNaN(ge))throw new Error("USD value is invalid");const We={...x&&t?{id:t}:{},categoryId:parseInt(k.categoryId),value:ge,comment:k.comment,dateUtc:re,isExpense:!n};return x?G.mutateAsync(We):W.mutateAsync(We)},onSuccess:async()=>{await l.invalidateQueries({queryKey:Ue.monthSummary(o,a)}),await l.invalidateQueries({queryKey:Ue.monthSummary(y,p)}),await l.invalidateQueries({queryKey:Ue.allTimeSummary()}),await l.invalidateQueries({queryKey:Ue.monthRecords(o,a)}),x&&await l.invalidateQueries({queryKey:Ue.record(t)}),u(!1),V.reset({categoryId:z(),value:"",comment:""}),D(""),j(""),r&&r()}}),oe=k=>{X.mutate(k)},we=()=>{t&&(typeof window<"u"&&!window.confirm("Delete this entry permanently?")||F.mutate(t,{onSuccess:async()=>{await l.invalidateQueries({queryKey:Ue.monthSummary(o,a)}),await l.invalidateQueries({queryKey:Ue.monthSummary(y,p)}),await l.invalidateQueries({queryKey:Ue.allTimeSummary()}),await l.invalidateQueries({queryKey:Ue.monthRecords(o,a)}),t&&await l.invalidateQueries({queryKey:Ue.record(t)}),u(!1),r&&r()}}))};return e?c.jsxs(kn,{open:i,onOpenChange:k=>{u(k),!k&&!x&&(V.reset({categoryId:z(),value:"",comment:""}),D(""),j(""))},children:[c.jsx(Cn,{asChild:!0,children:c.jsx("button",{onClick:()=>u(!0),className:"cursor-pointer w-full",children:e})}),c.jsxs(Nn,{children:[c.jsx(Sn,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(jn,{children:x?Q?`Edit Record (${_t(Rt(Q.dateUtc),"MMM d, yyyy")})`:"Edit Record":n?"Add Income":"Add Expense"}),x&&c.jsx(De,{type:"button",variant:"ghost",size:"icon",onClick:we,disabled:F.isPending,"aria-label":"Delete record",title:"Delete record",children:c.jsx(En,{className:"h-4 w-4 text-destructive"})})]})}),x&&de?c.jsx("div",{className:"py-4 text-center",children:"Loading record data..."}):c.jsx(Jn,{...V,children:c.jsxs("form",{onSubmit:V.handleSubmit(oe),className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Fe,{children:c.jsxs("div",{className:"relative",children:[c.jsx(it,{type:"number",step:"0.01",placeholder:"PLN",value:R,onChange:k=>K(k.target.value),className:"pr-10"}),c.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none select-none text-lg font-medium",children:"zł"})]})}),c.jsx(Fe,{children:c.jsxs("div",{className:"relative",children:[c.jsx(it,{type:"number",step:"0.01",placeholder:"USD",value:E,onChange:k=>U(k.target.value),className:"pr-10",disabled:O||Z}),c.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none select-none text-lg font-medium",children:"$"})]})})]}),Z&&c.jsx("div",{className:"text-sm text-destructive",children:"Exchange rate unavailable. Cannot save record."}),c.jsx("div",{className:"hidden",children:c.jsx(pt,{control:V.control,name:"value",render:({field:k})=>c.jsxs(Fe,{children:[c.jsx(Ke,{children:c.jsx(it,{type:"hidden",...k})}),c.jsx(lt,{})]})})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(pt,{control:V.control,name:"comment",render:({field:k})=>c.jsxs(Fe,{children:[c.jsx(Ke,{children:c.jsx(zr,{value:k.value||"",onChange:k.onChange,onInputChange:v,suggestions:Ge,placeholder:"Note"})}),c.jsx(lt,{})]})}),c.jsx(Ir,{variant:"default",className:"h-10",type:"submit",disabled:X.isPending||Z||O||!Y,isLoading:X.isPending,children:x?`Update${E?` ($${E})`:""}`:`Add${E?` ($${E})`:""}`})]}),c.jsx(pt,{control:V.control,name:"categoryId",render:({field:k})=>{const re=se?.find(ge=>ge.id.toString()===k.value);return c.jsxs(Fe,{children:[c.jsxs(Zr,{children:["Category"," ",re?`(${re.name})`:""]}),c.jsx(Ke,{children:c.jsx("div",{className:"grid grid-cols-3 gap-1 mt-2 mx-auto w-fit",children:se?.map(ge=>{const We=f(ge.icon),Ee=ge.id.toString()===k.value;return c.jsx("button",{type:"button",onClick:()=>k.onChange(ge.id.toString()),className:`flex items-center justify-center aspect-square h-20 w-20 border border-input rounded-md transition-colors ${Ee?"bg-primary text-primary-foreground":"bg-background hover:bg-accent hover:text-accent-foreground"}`,title:ge.name,disabled:Ee,children:c.jsx(We,{className:"h-8 w-8"})},ge.id)})})}),c.jsx(lt,{})]})}})]})}),C?.lastUpdatedAt&&c.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Updated"," ",Fn(Rt(C.lastUpdatedAt),{addSuffix:!0})]})]})]}):c.jsxs(kn,{open:i,onOpenChange:k=>{u(k),!k&&!x&&(V.reset({categoryId:z(),value:"",comment:""}),D(""),j(""))},children:[c.jsx(Cn,{asChild:!0,children:c.jsxs(De,{size:"icon",className:"h-14 w-14 rounded-full shadow-lg hover:shadow-xl transition-shadow bg-primary text-primary-foreground hover:bg-primary/90","aria-label":x?"Edit record":n?"Add income record":"Add expense record",children:[x?c.jsx(qc,{className:"h-6 w-6"}):c.jsx(ko,{className:"h-6 w-6"}),c.jsx("span",{className:"sr-only",children:n?"Add income":"Add expense"})]})}),c.jsxs(Nn,{children:[c.jsx(Sn,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(jn,{children:x?Q?`Edit Record (${_t(Rt(Q.dateUtc),"MMM d, yyyy")})`:"Edit Record":n?"Add Income":"Add Expense"}),x&&c.jsx(De,{type:"button",variant:"ghost",size:"icon",onClick:we,disabled:F.isPending,"aria-label":"Delete record",title:"Delete record",children:c.jsx(En,{className:"h-4 w-4 text-destructive"})})]})}),x&&de?c.jsx("div",{className:"py-4 text-center",children:"Loading record data..."}):c.jsx(Jn,{...V,children:c.jsxs("form",{onSubmit:V.handleSubmit(oe),className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Fe,{children:c.jsxs("div",{className:"relative",children:[c.jsx(it,{type:"number",step:"0.01",placeholder:"PLN",value:R,onChange:k=>K(k.target.value),className:"pr-10"}),c.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none select-none text-lg font-medium",children:"zł"})]})}),c.jsx(Fe,{children:c.jsxs("div",{className:"relative",children:[c.jsx(it,{type:"number",step:"0.01",placeholder:"USD",value:E,onChange:k=>U(k.target.value),className:"pr-10",disabled:O||Z}),c.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none select-none text-lg font-medium",children:"$"})]})})]}),Z&&c.jsx("div",{className:"text-sm text-destructive",children:"Exchange rate unavailable. Cannot save record."}),c.jsx("div",{className:"hidden",children:c.jsx(pt,{control:V.control,name:"value",render:({field:k})=>c.jsxs(Fe,{children:[c.jsx(Ke,{children:c.jsx(it,{type:"hidden",...k})}),c.jsx(lt,{})]})})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(pt,{control:V.control,name:"comment",render:({field:k})=>c.jsxs(Fe,{children:[c.jsx(Ke,{children:c.jsx(zr,{value:k.value||"",onChange:k.onChange,onInputChange:v,suggestions:Ge,placeholder:"Note"})}),c.jsx(lt,{})]})}),c.jsx(Ir,{variant:"default",className:"h-10",type:"submit",disabled:X.isPending||Z||O||!Y,isLoading:X.isPending,children:x?`Update${E?` ($${E})`:""}`:`Add${E?` ($${E})`:""}`})]}),c.jsx(pt,{control:V.control,name:"categoryId",render:({field:k})=>{const re=se?.find(ge=>ge.id.toString()===k.value);return c.jsxs(Fe,{children:[c.jsxs(Zr,{children:["Category"," ",re?`(${re.name})`:""]}),c.jsx(Ke,{children:c.jsx("div",{className:"grid grid-cols-3 gap-1 mt-2 mx-auto w-fit",children:se?.map(ge=>{const We=f(ge.icon),Ee=ge.id.toString()===k.value;return c.jsx("button",{type:"button",onClick:()=>k.onChange(ge.id.toString()),className:`flex items-center justify-center aspect-square h-20 w-20 border border-input rounded-md transition-colors ${Ee?"bg-primary text-primary-foreground":"bg-background hover:bg-accent hover:text-accent-foreground"}`,title:ge.name,disabled:Ee,children:c.jsx(We,{className:"h-8 w-8"})},ge.id)})})}),c.jsx(lt,{})]})}})]})}),C?.lastUpdatedAt&&c.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Updated"," ",Fn(Rt(C.lastUpdatedAt),{addSuffix:!0})]})]})]})}function xd({viewType:t,onToggleViewType:e,month:r,year:n}){const{data:s,isLoading:a}=Vo(),o=s?s.totalProfit-s.totalExpenses:0,i=o>=0;return c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(El,{initialMonth:r,initialYear:n}),c.jsx(De,{variant:"outline",size:"sm",className:"w-[40px]",onClick:e,children:t==="expenses"?"E":"I"})]}),c.jsx("div",{className:"flex-shrink-0",children:!a&&s&&c.jsx(pn,{isIncome:t==="income",trigger:c.jsx("div",{className:`font-semibold text-xl ${i?"text-green-400":"text-red-400"} cursor-pointer hover:underline`,children:c.jsx("span",{children:Vt(o)})})})})]})}var bd=Symbol("radix.slottable");function _d(t){const e=({children:r})=>c.jsx(c.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=bd,e}var[_r]=fr("Tooltip",[hr]),wr=hr(),Fa="TooltipProvider",wd=700,Qr="tooltip.open",[kd,gn]=_r(Fa),Va=t=>{const{__scopeTooltip:e,delayDuration:r=wd,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=t,o=h.useRef(!0),i=h.useRef(!1),u=h.useRef(0);return h.useEffect(()=>{const l=u.current;return()=>window.clearTimeout(l)},[]),c.jsx(kd,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:i,onPointerInTransitChange:h.useCallback(l=>{i.current=l},[]),disableHoverableContent:s,children:a})};Va.displayName=Fa;var zt="Tooltip",[Cd,kr]=_r(zt),$a=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s,onOpenChange:a,disableHoverableContent:o,delayDuration:i}=t,u=gn(zt,t.__scopeTooltip),l=wr(e),[f,p]=h.useState(null),y=qe(),x=h.useRef(0),R=o??u.disableHoverableContent,D=i??u.delayDuration,E=h.useRef(!1),[j,w]=Et({prop:n,defaultProp:s??!1,onChange:Y=>{Y?(u.onOpen(),document.dispatchEvent(new CustomEvent(Qr))):u.onClose(),a?.(Y)},caller:zt}),P=h.useMemo(()=>j?E.current?"delayed-open":"instant-open":"closed",[j]),C=h.useCallback(()=>{window.clearTimeout(x.current),x.current=0,E.current=!1,w(!0)},[w]),O=h.useCallback(()=>{window.clearTimeout(x.current),x.current=0,w(!1)},[w]),Z=h.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{E.current=!0,w(!0),x.current=0},D)},[D,w]);return h.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),c.jsx(Es,{...l,children:c.jsx(Cd,{scope:e,contentId:y,open:j,stateAttribute:P,trigger:f,onTriggerChange:p,onTriggerEnter:h.useCallback(()=>{u.isOpenDelayedRef.current?Z():C()},[u.isOpenDelayedRef,Z,C]),onTriggerLeave:h.useCallback(()=>{R?O():(window.clearTimeout(x.current),x.current=0)},[O,R]),onOpen:C,onClose:O,disableHoverableContent:R,children:r})})};$a.displayName=zt;var Xr="TooltipTrigger",La=h.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=kr(Xr,r),a=gn(Xr,r),o=wr(r),i=h.useRef(null),u=Wt(e,i,s.onTriggerChange),l=h.useRef(!1),f=h.useRef(!1),p=h.useCallback(()=>l.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),c.jsx(tn,{asChild:!0,...o,children:c.jsx(Ne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:u,onPointerMove:Ce(t.onPointerMove,y=>{y.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{s.open&&s.onClose(),l.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ce(t.onFocus,()=>{l.current||s.onOpen()}),onBlur:Ce(t.onBlur,s.onClose),onClick:Ce(t.onClick,s.onClose)})})});La.displayName=Xr;var Nd="TooltipPortal",[Nf,Sd]=_r(Nd,{forceMount:void 0}),jt="TooltipContent",Ua=h.forwardRef((t,e)=>{const r=Sd(jt,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=t,o=kr(jt,t.__scopeTooltip);return c.jsx(Jr,{present:n||o.open,children:o.disableHoverableContent?c.jsx(Za,{side:s,...a,ref:e}):c.jsx(jd,{side:s,...a,ref:e})})}),jd=h.forwardRef((t,e)=>{const r=kr(jt,t.__scopeTooltip),n=gn(jt,t.__scopeTooltip),s=h.useRef(null),a=Wt(e,s),[o,i]=h.useState(null),{trigger:u,onClose:l}=r,f=s.current,{onPointerInTransitChange:p}=n,y=h.useCallback(()=>{i(null),p(!1)},[p]),x=h.useCallback((R,D)=>{const E=R.currentTarget,j={x:R.clientX,y:R.clientY},w=Pd(j,E.getBoundingClientRect()),P=Od(j,w),C=Rd(D.getBoundingClientRect()),O=Id([...P,...C]);i(O),p(!0)},[p]);return h.useEffect(()=>()=>y(),[y]),h.useEffect(()=>{if(u&&f){const R=E=>x(E,f),D=E=>x(E,u);return u.addEventListener("pointerleave",R),f.addEventListener("pointerleave",D),()=>{u.removeEventListener("pointerleave",R),f.removeEventListener("pointerleave",D)}}},[u,f,x,y]),h.useEffect(()=>{if(o){const R=D=>{const E=D.target,j={x:D.clientX,y:D.clientY},w=u?.contains(E)||f?.contains(E),P=!Ad(j,o);w?y():P&&(y(),l())};return document.addEventListener("pointermove",R),()=>document.removeEventListener("pointermove",R)}},[u,f,o,l,y]),c.jsx(Za,{...t,ref:a})}),[Ed,Td]=_r(zt,{isInside:!1}),Md=_d("TooltipContent"),Za=h.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...i}=t,u=kr(jt,r),l=wr(r),{onClose:f}=u;return h.useEffect(()=>(document.addEventListener(Qr,f),()=>document.removeEventListener(Qr,f)),[f]),h.useEffect(()=>{if(u.trigger){const p=y=>{y.target?.contains(u.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,f]),c.jsx(Ss,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:c.jsxs(Ts,{"data-state":u.stateAttribute,...l,...i,ref:e,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(Md,{children:n}),c.jsx(Ed,{scope:r,isInside:!0,children:c.jsx(Uo,{id:u.contentId,role:"tooltip",children:s||n})})]})})});Ua.displayName=jt;var za="TooltipArrow",Dd=h.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=wr(r);return Td(za,r).isInside?null:c.jsx(Ms,{...s,...n,ref:e})});Dd.displayName=za;function Pd(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Od(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Rd(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function Ad(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const i=e[a],u=e[o],l=i.x,f=i.y,p=u.x,y=u.y;f>n!=y>n&&r<(p-l)*(n-f)/(y-f)+l&&(s=!s)}return s}function Id(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Fd(e)}function Fd(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Vd=Va,$d=$a,Ld=La,Wa=Ua;const Ud=Vd,Zd=$d,zd=Ld,Ya=h.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(Wa,{ref:n,sideOffset:e,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Ya.displayName=Wa.displayName;function Wd({segments:t,className:e,height:r=24}){const n=t.reduce((o,i)=>o+i.value,0),s=["bg-blue-500","bg-green-500","bg-yellow-500","bg-orange-500","bg-red-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500","bg-primary"],a=t.filter(o=>o.value>0);return a.length===0||n<=0?c.jsx("div",{className:me("relative w-full overflow-hidden rounded-full bg-secondary",e),style:{height:`${r}px`}}):c.jsx("div",{className:me("relative w-full overflow-hidden rounded-full bg-secondary",e),style:{height:`${r}px`},children:c.jsx("div",{className:"flex h-full w-full",children:a.map((o,i)=>{const u=o.value/n*100,l=o.color||s[i%s.length];return c.jsx(Ud,{children:c.jsxs(Zd,{children:[c.jsx(zd,{asChild:!0,children:c.jsx("div",{className:me("h-full flex items-center justify-center transition-all",l),style:{width:`${u}%`,minWidth:u>0?"12px":"0"},children:o.icon&&u>=5&&c.jsx("div",{className:"text-white",children:o.icon})})}),c.jsx(Ya,{children:o.tooltip||`${o.value} (${u.toFixed(1)}%)`})]})},i)})})})}const Ae={FOOD:"Food",TRANSPORTATION:"Transportation",RENT_BILLS:"Rent & Bills",SHOPPING:"Shopping",TRAVEL:"Travel",LEISURE:"Leisure",EDUCATION:"Education",WELLNESS_BEAUTY:"Wellness and Beauty",OTHER:"Other",GIFTS:"Gifts",PAYCHECK:"Paycheck",GIFT:"Gift"},bs={[Ae.FOOD]:{bg:"bg-emerald-500",border:"border-emerald-500"},[Ae.TRANSPORTATION]:{bg:"bg-blue-500",border:"border-blue-500"},[Ae.RENT_BILLS]:{bg:"bg-purple-500",border:"border-purple-500"},[Ae.SHOPPING]:{bg:"bg-pink-500",border:"border-pink-500"},[Ae.TRAVEL]:{bg:"bg-amber-500",border:"border-amber-500"},[Ae.LEISURE]:{bg:"bg-indigo-500",border:"border-indigo-500"},[Ae.EDUCATION]:{bg:"bg-cyan-500",border:"border-cyan-500"},[Ae.WELLNESS_BEAUTY]:{bg:"bg-rose-500",border:"border-rose-500"},[Ae.OTHER]:{bg:"bg-gray-500",border:"border-gray-500"},[Ae.GIFTS]:{bg:"bg-red-500",border:"border-red-500"},[Ae.PAYCHECK]:{bg:"bg-green-600",border:"border-green-600"},[Ae.GIFT]:{bg:"bg-teal-500",border:"border-teal-500"}},_s={bg:"bg-gray-500",border:"border-gray-500"};function Ba(){return{getCategoryColor:r=>bs[r]?.bg||_s.bg,getCategoryBorderColor:r=>bs[r]?.border||_s.border}}function Yd({sortedCategories:t,totalMonthlyAmount:e}){const{getCategoryIcon:r}=hn(),{getCategoryColor:n}=Ba();return c.jsx("div",{className:"mb-6",children:c.jsx(Wd,{height:24,segments:t.map(s=>{const a=r(s.icon);return{value:Number(s.totalValue),color:n(s.categoryName),tooltip:c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(a,{className:"size-4"}),c.jsx("span",{children:s.categoryName})]}),c.jsxs("div",{className:"text-xs mt-1",children:[Vt(Number(s.totalValue))," (",(Number(s.totalValue)/e*100).toFixed(1),"%)"]})]}),icon:c.jsx(a,{className:"size-4"})}})})})}var Rr="rovingFocusGroup.onEntryFocus",Bd={bubbles:!1,cancelable:!0},Gt="RovingFocusGroup",[Kr,qa,qd]=Zo(Gt),[Hd,Ha]=fr(Gt,[qd]),[Gd,Qd]=Hd(Gt),Ga=h.forwardRef((t,e)=>c.jsx(Kr.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Kr.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Xd,{...t,ref:e})})}));Ga.displayName=Gt;var Xd=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:u,onEntryFocus:l,preventScrollOnEntryFocus:f=!1,...p}=t,y=h.useRef(null),x=Wt(e,y),R=Ds(a),[D,E]=Et({prop:o,defaultProp:i??null,onChange:u,caller:Gt}),[j,w]=h.useState(!1),P=$o(l),C=qa(r),O=h.useRef(!1),[Z,Y]=h.useState(0);return h.useEffect(()=>{const te=y.current;if(te)return te.addEventListener(Rr,P),()=>te.removeEventListener(Rr,P)},[P]),c.jsx(Gd,{scope:r,orientation:n,dir:R,loop:s,currentTabStopId:D,onItemFocus:h.useCallback(te=>E(te),[E]),onItemShiftTab:h.useCallback(()=>w(!0),[]),onFocusableItemAdd:h.useCallback(()=>Y(te=>te+1),[]),onFocusableItemRemove:h.useCallback(()=>Y(te=>te-1),[]),children:c.jsx(Ne.div,{tabIndex:j||Z===0?-1:0,"data-orientation":n,...p,ref:x,style:{outline:"none",...t.style},onMouseDown:Ce(t.onMouseDown,()=>{O.current=!0}),onFocus:Ce(t.onFocus,te=>{const se=!O.current;if(te.target===te.currentTarget&&se&&!j){const Q=new CustomEvent(Rr,Bd);if(te.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const de=C().filter(K=>K.focusable),z=de.find(K=>K.active),V=de.find(K=>K.id===D),ae=[z,V,...de].filter(Boolean).map(K=>K.ref.current);Ka(ae,f)}}O.current=!1}),onBlur:Ce(t.onBlur,()=>w(!1))})})}),Qa="RovingFocusGroupItem",Xa=h.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...i}=t,u=qe(),l=a||u,f=Qd(Qa,r),p=f.currentTabStopId===l,y=qa(r),{onFocusableItemAdd:x,onFocusableItemRemove:R,currentTabStopId:D}=f;return h.useEffect(()=>{if(n)return x(),()=>R()},[n,x,R]),c.jsx(Kr.ItemSlot,{scope:r,id:l,focusable:n,active:s,children:c.jsx(Ne.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...i,ref:e,onMouseDown:Ce(t.onMouseDown,E=>{n?f.onItemFocus(l):E.preventDefault()}),onFocus:Ce(t.onFocus,()=>f.onItemFocus(l)),onKeyDown:Ce(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){f.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const j=ef(E,f.orientation,f.dir);if(j!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let P=y().filter(C=>C.focusable).map(C=>C.ref.current);if(j==="last")P.reverse();else if(j==="prev"||j==="next"){j==="prev"&&P.reverse();const C=P.indexOf(E.currentTarget);P=f.loop?tf(P,C+1):P.slice(C+1)}setTimeout(()=>Ka(P))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:D!=null}):o})})});Xa.displayName=Qa;var Kd={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Jd(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ef(t,e,r){const n=Jd(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Kd[n]}function Ka(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function tf(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var rf=Ga,nf=Xa,Ja="Toggle",yn=h.forwardRef((t,e)=>{const{pressed:r,defaultPressed:n,onPressedChange:s,...a}=t,[o,i]=Et({prop:r,onChange:s,defaultProp:n??!1,caller:Ja});return c.jsx(Ne.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":t.disabled?"":void 0,...a,ref:e,onClick:Ce(t.onClick,()=>{t.disabled||i(!o)})})});yn.displayName=Ja;var eo=yn,ot="ToggleGroup",[to]=fr(ot,[Ha]),ro=Ha(),vn=L.forwardRef((t,e)=>{const{type:r,...n}=t;if(r==="single"){const s=n;return c.jsx(sf,{...s,ref:e})}if(r==="multiple"){const s=n;return c.jsx(af,{...s,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${ot}\``)});vn.displayName=ot;var[no,so]=to(ot),sf=L.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=t,[o,i]=Et({prop:r,defaultProp:n??"",onChange:s,caller:ot});return c.jsx(no,{scope:t.__scopeToggleGroup,type:"single",value:L.useMemo(()=>o?[o]:[],[o]),onItemActivate:i,onItemDeactivate:L.useCallback(()=>i(""),[i]),children:c.jsx(ao,{...a,ref:e})})}),af=L.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=t,[o,i]=Et({prop:r,defaultProp:n??[],onChange:s,caller:ot}),u=L.useCallback(f=>i((p=[])=>[...p,f]),[i]),l=L.useCallback(f=>i((p=[])=>p.filter(y=>y!==f)),[i]);return c.jsx(no,{scope:t.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:u,onItemDeactivate:l,children:c.jsx(ao,{...a,ref:e})})});vn.displayName=ot;var[of,cf]=to(ot),ao=L.forwardRef((t,e)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:s=!0,orientation:a,dir:o,loop:i=!0,...u}=t,l=ro(r),f=Ds(o),p={role:"group",dir:f,...u};return c.jsx(of,{scope:r,rovingFocus:s,disabled:n,children:s?c.jsx(rf,{asChild:!0,...l,orientation:a,dir:f,loop:i,children:c.jsx(Ne.div,{...p,ref:e})}):c.jsx(Ne.div,{...p,ref:e})})}),dr="ToggleGroupItem",oo=L.forwardRef((t,e)=>{const r=so(dr,t.__scopeToggleGroup),n=cf(dr,t.__scopeToggleGroup),s=ro(t.__scopeToggleGroup),a=r.value.includes(t.value),o=n.disabled||t.disabled,i={...t,pressed:a,disabled:o},u=L.useRef(null);return n.rovingFocus?c.jsx(nf,{asChild:!0,...s,focusable:!o,active:a,ref:u,children:c.jsx(ws,{...i,ref:e})}):c.jsx(ws,{...i,ref:e})});oo.displayName=dr;var ws=L.forwardRef((t,e)=>{const{__scopeToggleGroup:r,value:n,...s}=t,a=so(dr,r),o={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},i=a.type==="single"?o:void 0;return c.jsx(yn,{...i,...s,ref:e,onPressedChange:u=>{u?a.onItemActivate(n):a.onItemDeactivate(n)}})}),lf=vn,uf=oo;const io=en("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-3",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}}),df=h.forwardRef(({className:t,variant:e,size:r,...n},s)=>c.jsx(eo,{ref:s,className:me(io({variant:e,size:r,className:t})),...n}));df.displayName=eo.displayName;const co=h.createContext({size:"default",variant:"default"});function ff({className:t,variant:e,size:r,children:n,...s}){return c.jsx(lf,{"data-slot":"toggle-group","data-variant":e,"data-size":r,className:me("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",t),...s,children:c.jsx(co.Provider,{value:{variant:e,size:r},children:n})})}function ks({className:t,children:e,variant:r,size:n,...s}){const a=h.useContext(co);return c.jsx(uf,{"data-slot":"toggle-group-item","data-variant":a.variant||r,"data-size":a.size||n,className:me(io({variant:a.variant||r,size:a.size||n}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",t),...s,children:e})}function hf({categoryName:t,categoryId:e,year:r,month:n,totalExpenses:s,icon:a,difference:o,isExpense:i=!0}){const[u,l]=h.useState(!1),[f,p]=h.useState("date"),{getCategoryIcon:y}=hn(),{getCategoryBorderColor:x}=Ba(),R=y(a),{data:D,isLoading:E}=Lo(r,n,u),j=D?.filter(C=>C.categoryId===e&&C.isExpense===i)||[],w=[...j].sort((C,O)=>f==="date"?new Date(O.dateUtc).getTime()-new Date(C.dateUtc).getTime():O.value-C.value),P=()=>{l(!u)};return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:me("flex justify-between items-center cursor-pointer hover:bg-muted/50 p-2 pl-3 rounded-md transition-colors border-l-4",x(t)),onClick:P,children:[c.jsxs("span",{className:"flex items-center",children:[c.jsx(R,{className:"mr-2 size-5"}),t]}),c.jsxs("span",{className:"flex items-center gap-2",children:[o&&c.jsxs("span",{className:`flex items-center text-xs ${o.color}`,children:[o.text,o.icon]}),Vt(s)]})]}),u&&c.jsx("div",{className:"pl-0 space-y-2 slide-in-from-top-2 duration-200",children:E?c.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading records..."}):j.length===0?c.jsx("div",{className:"text-sm text-muted-foreground",children:"No records found"}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"w-full mb-2",children:c.jsxs(ff,{type:"single",value:f,onValueChange:C=>{C&&p(C)},variant:"outline",size:"sm",className:"w-full grid grid-cols-2 gap-0",children:[c.jsxs(ks,{value:"date","aria-label":"Sort by date",className:"flex justify-center",children:[c.jsx(kc,{className:"h-4 w-4 mr-2"}),"Date"]}),c.jsxs(ks,{value:"value","aria-label":"Sort by value",className:"flex justify-center",children:[c.jsx(Dc,{className:"h-4 w-4 mr-1"}),"Value"]})]})}),w.map(C=>c.jsx(pn,{recordId:C.id,isIncome:!i,trigger:c.jsx("div",{className:"flex justify-between items-center py-2 px-3 text-sm border border-border rounded-md cursor-pointer hover:bg-muted/50",children:c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center gap-1.5",children:c.jsx("span",{className:"text-md text-muted-foreground",children:_t(Rt(C.dateUtc),"MMM d, yyyy HH:mm")})}),c.jsx("span",{className:"font-medium text-md",children:Vt(C.value)})]}),C.comment&&c.jsx("div",{className:"mt-1",children:c.jsx("div",{className:"flex items-center gap-1.5",children:c.jsx("span",{className:"text-secondary-foreground/90",children:C.comment})})})]})})},C.id))]})})]})}function mf({viewType:t}){const e=Ns({from:"/app/$year/$month"}),r=Number(e.month),n=Number(e.year),s=Cs(),{prevMonth:a,prevYear:o,nextMonth:i,nextYear:u}=ja(r,n),l=new Date,f=new Date(u,i-1),p=new Date(l.getFullYear(),l.getMonth()),y=f>p,x=new Date(n,r-1),R=_t(x,"MMMM"),D=_t(x,"yyyy"),{data:E,error:j,isLoading:w}=Tn(n,r),{data:P}=Tn(o,a),{data:C}=js(),O=()=>{s.navigate({to:Ar.monthlyExpensesSummary(o,a)})},Z=()=>{s.navigate({to:Ar.monthlyExpensesSummary(u,i)})};if(j)return c.jsxs("div",{className:"p-4 text-destructive",children:["Error loading data: ",j.message]});const Y=E?.categorySummaries?.filter(U=>t==="expenses"&&U.isExpense||t==="income"&&!U.isExpense)||[],te=new Map;P?.categorySummaries?.forEach(U=>{(t==="expenses"&&U.isExpense||t==="income"&&!U.isExpense)&&te.set(U.categoryName,Number(U.total))});const se=Y.map(U=>{const fe=te.get(U.categoryName)||0,_e=Number(U.total)-fe;return{...U,previousMonthExpenses:fe,difference:_e,totalValue:Number(U.total)}}),Q=se.reduce((U,fe)=>U+Number(fe.total),0)||0,de=P?.categorySummaries?.filter(U=>t==="expenses"&&U.isExpense||t==="income"&&!U.isExpense).reduce((U,fe)=>U+Number(fe.total),0)||0,z=Q-de,V=[...se].sort((U,fe)=>fe.total-U.total),J=Q>0&&V.length>0,ae=(U,fe)=>{if(U===void 0||fe===void 0||fe===0)return null;const _e=U>0;return{text:`$${Math.abs(U).toFixed(2)}`,icon:_e?c.jsx(_c,{className:"h-4 w-4"}):c.jsx(Vn,{className:"h-4 w-4"}),color:_e?"text-red-400":"text-green-400"}},K=ae(z,de);return c.jsxs(Ps,{children:[c.jsxs(Os,{className:"flex flex-row items-center justify-between pb-2",children:[c.jsx(De,{variant:"ghost",size:"icon",onClick:O,"aria-label":"Previous month",children:c.jsx(Ws,{className:"h-4 w-4"})}),c.jsxs(Rs,{className:"flex items-center justify-center flex-col",children:[Vt(Q),K?c.jsxs("span",{className:`ml-2 text-sm items-center inline-flex ${K.color}`,children:[K.text,K.icon]}):c.jsxs("span",{className:"ml-2 text-sm items-center inline-flex invisible",children:["$0.00",c.jsx(Vn,{className:"h-4 w-4"})]})]}),y?c.jsx("div",{className:"w-9 h-9"}):c.jsx(De,{variant:"ghost",size:"icon",onClick:Z,"aria-label":"Next month",children:c.jsx(Ys,{className:"h-4 w-4"})})]}),c.jsx(As,{className:"p-3",children:w?c.jsxs("div",{className:"py-8",children:[c.jsx(Co,{className:"h-24"}),c.jsxs("p",{className:"text-center text-muted-foreground mt-4",children:["Loading ",t," data for ",R," ",D,"..."]})]}):c.jsxs(c.Fragment,{children:[J&&c.jsx(Yd,{sortedCategories:V,totalMonthlyAmount:Q}),Y.length===0?c.jsxs("p",{className:"text-center text-muted-foreground py-8",children:["No ",t," data available for ",R," ",D,"."]}):c.jsx("div",{className:"space-y-2 mt-4",children:V.map(U=>{const fe=ae(U.difference,U.previousMonthExpenses),_e=C?.find(Oe=>Oe.name===U.categoryName);return c.jsx(hf,{categoryName:U.categoryName,categoryId:_e?.id||0,year:n,month:r,totalExpenses:Number(U.total),icon:U.icon,difference:fe||void 0,isExpense:U.isExpense},U.categoryName)})})]})})]})}class pf extends L.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Error caught by ErrorBoundary:",e,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:c.jsxs(Ps,{className:"m-4",children:[c.jsx(Os,{className:"pb-4",children:c.jsxs(Rs,{className:"flex items-center gap-2 text-destructive",children:[c.jsx(nl,{className:"h-5 w-5"}),"Something went wrong"]})}),c.jsxs(As,{className:"space-y-4",children:[c.jsx("p",{className:"text-muted-foreground",children:"An unexpected error occurred. Please try refreshing the page."}),!1,c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(De,{onClick:()=>window.location.reload(),variant:"default",size:"sm",children:[c.jsx(Jc,{className:"h-4 w-4 mr-2"}),"Refresh Page"]}),c.jsx(De,{onClick:()=>this.setState({hasError:!1,error:void 0}),variant:"outline",size:"sm",children:"Try Again"})]})]})]}):this.props.children}}function Sf(){const{year:t,month:e}=go.useParams(),[r,n]=h.useState("expenses"),s=Number(e),a=Number(t),o=()=>{n(i=>i==="expenses"?"income":"expenses")};return c.jsx(pf,{children:c.jsxs("div",{className:"space-y-4 relative",children:[c.jsx(xd,{viewType:r,onToggleViewType:o,month:s,year:a}),c.jsx(mf,{viewType:r}),c.jsx("div",{className:"fixed bottom-20 right-10 z-50",children:c.jsx(pn,{isIncome:r==="income"})})]})})}export{Sf as component};
